import{_ as qe,a as je}from"./CijGdPzy.js";import{d as M,u as V,a as L,o as _,c as k,b as e,i as Ue,e as n,g as ge,f as ve,h as me,T as F,j as ae,w as A,k as pe,l as g,m as v,_ as He,R as le,n as O,p as X,q as Be,E as Ge,r as z,t as $,s as Je,v as Qe,x as Y,y as Ze,z as re,K as We,A as R,B as W,J as Ye,C as Ke,D as fe,F as Xe,G as et,H as ye,I as B,L as tt,M as at,N as nt,O as st,P as ot,Q as it,S as I,U as lt,V as rt,W as ut,X as ct,Y as dt,Z as gt,$ as vt,a0 as mt,a1 as pt,a2 as ft,a3 as yt,a4 as bt,a5 as ht,a6 as St,a7 as _t,a8 as P,a9 as ue}from"./B40AgavL.js";import{u as ee,a as Et}from"./BRtxTGMg.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"directory-production@d5835bdc870ec561f52883d41be871360d37de59"};var t=new a.Error().stack;t&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[t]="f77a157d-06fa-4315-8d11-df2f047eb62b",a._sentryDebugIdIdentifier="sentry-dbid-f77a157d-06fa-4315-8d11-df2f047eb62b")}catch{}})();const kt=M({__name:"EntryCard",props:{entry:{},noFocus:{type:Boolean}},emits:["click"],setup(a){const t=a,s=V(),l=n(()=>ge(s.value,t.entry.entryType)),{$localizeRouteLocation:h}=L(),u=n(()=>l.value==="internal"?h(ve(s.value,t.entry.entryType,t.entry.slug)):void 0),E=n(()=>s.value.settings.calloutsEnabled),m=n(()=>s.value.settings.reviewsEnabled),y=n(()=>s.value.settings.availabilityToggleEnabled),c=n(()=>s.value.settings.tiersEnabled),r=n(()=>s.value.settings.entryTypeSettings.app.showCardLinksAsInternal),D=n(()=>!s.value.settings.i18nDynamicContentTranslationEnabled),d=n(()=>s.value.settings.showDescriptionOnCard);return(b,p)=>(_(),k(e(Ue),{entry:a.entry,"no-focus":a.noFocus,"callouts-enabled":e(E),"reviews-enabled":e(m),"tiers-enabled":e(c),"availability-enabled":e(y),target:e(l),to:e(u),"show-link-as-internal":e(r),"no-translate-dynamic-content":e(D),"show-description-on-card":e(d)},null,8,["entry","no-focus","callouts-enabled","reviews-enabled","tiers-enabled","availability-enabled","target","to","show-link-as-internal","no-translate-dynamic-content","show-description-on-card"]))}}),be=Object.assign(kt,{__name:"EntryCard"}),Dt=()=>L().$device,Ct=M({__name:"DirectoryFeaturedSection",setup(a){const t=V(),{isMobile:s,isTablet:l}=Dt(),h=()=>s?1:l?3:4,u={pageSize:1,breakpoints:{640:{pageSize:2,transition:450},1024:{pageSize:3,transition:650},1280:{pageSize:4,transition:850}}},E={pageSize:h(),breakpoints:void 0},{$apiFetch:m}=L(),y=me(),c=F.RANDOM,{data:r,status:D,error:d}=ee(m,ae.list,{pathParams:{directoryId:t.value.id},query:{featured:!0,ordering:c,seed:y.value,page_size:12,page:1}},{clientCache:!0}),b=n(()=>!!d.value);A(b,T=>{if(T)throw pe({statusCode:500,statusMessage:"Internal server error",fatal:!0})},{immediate:!0});const p=n(()=>t.value.settings.calloutsEnabled),S=n(()=>t.value.settings.reviewsEnabled),N=n(()=>t.value.settings.tiersEnabled),G=T=>{$("featured-entry-card-click",{entryId:T.id,entryName:T.title,entryType:T.entryType})};return(T,C)=>{const q=be,j=He;return e(D)==="pending"||e(r)?.count!==0?(_(),k(e(Ge),Be(O({key:0},T.$qa("featured-entries"))),{default:g(()=>[v(j,null,{fallback:g(()=>[v(e(le),O({key:"server",title:e(t).customizations.directoryFeaturedSection.title||void 0},E,{items:e(r)?.results||[],skeleton:!e(r)}),{default:g(({item:x,hidden:U})=>[v(q,{entry:x,"no-focus":U,onClick:J=>G(x)},null,8,["entry","no-focus","onClick"])]),skeleton:g(()=>[v(e(X),{"callouts-enabled":e(p),"reviews-enabled":e(S),"tiers-enabled":e(N)},null,8,["callouts-enabled","reviews-enabled","tiers-enabled"])]),_:1},16,["title","items","skeleton"])]),default:g(()=>[v(e(le),O({key:"client",title:e(t).customizations.directoryFeaturedSection.title||void 0},u,{items:e(r)?.results||[],skeleton:!e(r)}),{default:g(({item:x,hidden:U})=>[v(q,{entry:x,"no-focus":U,onClick:J=>G(x)},null,8,["entry","no-focus","onClick"])]),skeleton:g(()=>[v(e(X),{"callouts-enabled":e(p),"reviews-enabled":e(S),"tiers-enabled":e(N)},null,8,["callouts-enabled","reviews-enabled","tiers-enabled"])]),_:1},16,["title","items","skeleton"])]),_:1})]),_:1},16)):z("",!0)}}}),wt=Object.assign(Ct,{__name:"DirectoryFeaturedSection"}),Tt=M({__name:"EntriesSearch",props:re({noTranslateDynamicContent:{type:Boolean},availability:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:re(["change","suggestionSelected"],["update:modelValue"]),setup(a){const t=Je(a,"modelValue"),s=a,l=V(),{$axiosInstance:h}=L(),u=Y(""),{data:E,loading:m,error:y}=Qe(h,ae.list,Y({directoryId:l.value.id}),n(()=>({search:u.value,page:1,page_size:6,availability:s.availability||void 0})),{immediate:!0,watch:!0,disabled:n(()=>!u.value)}),{$getImageSrcset:c,$localizeRouteLocation:r}=L(),D=n(()=>E.value?.results.map(d=>{const b=ge(l.value,d.entryType),p=d.icon||d.image,S=p?c(p,{height:36,width:36,fit:"contain"}):void 0;return{id:d.id,title:d.highlightedTitle,subtitle:d.highlightedDescription||void 0,imageSrc:S?.src,imageSrcset:S?.srcset,to:b==="internal"?r(ve(l.value,d.entryType,d.slug)):void 0,href:b==="external"?d.website:void 0}}));return(d,b)=>(_(),k(e(Ze),{modelValue:t.value,"onUpdate:modelValue":[b[0]||(b[0]=p=>t.value=p),b[2]||(b[2]=p=>d.$emit("change",p))],"input-class":"grow",placeholder:"Search partners or keywords",items:e(D)||[],"search-loading":e(m)||!!e(y),"item-class":a.noTranslateDynamicContent?"notranslate":"",onSuggestionsQueryChange:b[1]||(b[1]=p=>u.value=p),onSelected:b[3]||(b[3]=p=>d.$emit("suggestionSelected",p,e(u)))},null,8,["modelValue","items","search-loading","item-class"]))}}),xt=Object.assign(Tt,{__name:"EntriesSearch"}),zt={class:"flex flex-col gap-y-2"},At={class:"text-text-secondary"},Ot={class:"flex grow items-center justify-center gap-x-2"},It=M({__name:"MatchmakingCard",setup(a){const t=V(),s=n(()=>t.value.matchmakingCustomization),l=n(()=>s.value?.title||"Let us match you"),h=n(()=>s.value?.description||`${t.value.name} will do all the work to match you with the best partners`),u=n(()=>s.value?.introduction||"Meet our team, your partner matchmaker."),E=n(()=>s.value?.image||"/images/matchmaking-card.jpg"),m=n(()=>s.value?.buttonLabel||"Get matched"),y=n(()=>s.value?.title||s.value?.description||s.value?.introduction||s.value?.buttonLabel),c=n(()=>!t.value.settings.i18nDynamicContentTranslationEnabled);return(r,D)=>(_(),k(e(We),O(r.$qa("service-matchmaking-card"),{to:r.$localizeRouteLocation({name:"matchmaking"}),class:["group",y.value&&c.value?"notranslate":""],flex:"","no-state-effects-background":""}),{default:g(()=>[v(e(Xe),{class:"flex grow flex-col gap-y-4"},{default:g(()=>[R("div",zt,[R("div",O(r.$qa("title"),{class:"text-16 group-hover:text-text-link font-bold"}),W(l.value),17),R("div",At,W(h.value),1)]),R("div",Ot,[R("div",O(r.$qa("agent-text"),{class:"text-12 text-text-secondary flex-1 break-words"}),W(u.value),17),v(e(Ye),O(r.$qa("agent-image"),{class:"flex-shrink-0 rounded-full",width:64,height:64,fit:"cover",url:E.value,alt:"Matchmaking agent"}),null,16,["url"])]),v(e(Ke),O(r.$qa("cta-button"),{variant:"primary",block:""}),{default:g(()=>[fe(W(m.value),1)]),_:1},16)]),_:1})]),_:1},16,["to","class"]))}}),Ft=Object.assign(It,{__name:"MatchmakingCard"}),ne="f_";function he(a){return a.startsWith(ne)}function $t(a){return`${ne}${a}`}function Pt(a){return a.replace(ne,"")}var w=(a=>(a.PAGE="page",a.PAGE_SIZE="page-size",a.SORT="sort",a.SEARCH="search",a.AVAILABLE_ONLY="available-only",a))(w||{});const Rt=M({__name:"DirectoryMainSection",setup(a){const t=V(),s=et(),l=ye(),h=n(()=>s.value?.directory?.paginationType||"default"),u=()=>{m.value=1},E=n(()=>t.value.settings.pageSizeSelectionOnDirectory),m=B(w.PAGE,"1",{mode:"push",transform:{get:Number,set:String}}),y=[30,60,120],c=B(w.PAGE_SIZE,y[0].toString(),{mode:"push",transform:{get:Number,set:String}});A(c,()=>{u()},{flush:"sync"}),(!E.value||!y.includes(c.value))&&(c.value=y[0]);const r=B(w.SEARCH,"",{mode:"push"});A(r,()=>{u()},{flush:"sync"});const D=n(()=>t.value.settings.availabilityToggleEnabled&&!l.value?.hideAvailabilityToggle),d=B(w.AVAILABLE_ONLY,"true",{mode:"push",transform:{get:o=>o==="true",set:String}});A(d,()=>{u()},{flush:"sync"});const b=n(()=>[...r.value?[{value:"relevance",label:"Relevance",attribute:F.RELEVANCE}]:[],...t.value.settings.recommendedSortEnabled?[{value:"recommended",label:"Recommended",attribute:F.RECOMMENDED}]:[],...t.value.settings.tiersEnabled?[{value:"tier",label:"Tier",attribute:F.TIER},...t.value.settings.reviewsEnabled?[{value:"tier_review",label:"Tier and review count",attribute:F.TIER_REVIEW}]:[]]:[],{value:"default",label:"Default",attribute:F.RANDOM},{value:"title",label:"Name (A-Z)",attribute:F.TITLE_ASC},{value:"-title",label:"Name (Z-A)",attribute:F.TITLE_DESC}]),p=n(()=>b.value.find(o=>o.attribute===t.value.settings.defaultSorting)),S=B(w.SORT,p.value?.value,{mode:"push"});A(S,()=>{u()},{flush:"sync"});const N=n(()=>b.value.find(o=>o.value===S.value));A(r,o=>{!o&&p.value&&p.value!==N.value&&(S.value=p.value.value),o&&S.value!=="relevance"&&(S.value="relevance")},{flush:"sync"});const G=n(()=>s.value?.directory?.showLabelInside||!1),T=tt(he,{transform:{get:o=>o?o.toString().split(","):[],set:o=>o.length>0?o.join(","):void 0},mode:"push"}),C=n({get:()=>Object.fromEntries(Object.entries(T.value).map(([o,i])=>[Pt(o),i])),set:o=>{T.value=Object.fromEntries(Object.entries(o).map(([i,K])=>[$t(i),K]))}}),{$apiFetch:q}=L(),{data:j,status:x}=ee(q,at.list,{pathParams:{directoryId:t.value.id},query:n(()=>({...Object.entries(C.value).map(([o,i])=>({filterSlug:o,filerOptionSlugs:i})).reduce((o,i)=>(o[i.filterSlug]=i.filerOptionSlugs.join(","),o),{})}))},{clientCache:!0}),{selectedFilterOptions:U,filtersSelectedCount:J}=nt(n(()=>j.value||null),C,!0);A(()=>Object.entries(C.value).flat().sort(),(o,i)=>{JSON.stringify(o)!==JSON.stringify(i)&&u()},{deep:!0,flush:"sync"});const se=n(()=>t.value.settings.matchmakingRequestsEnabled),Se=me(),{data:Q,status:oe}=ee(q,ae.list,{pathParams:{directoryId:t.value.id},query:n(()=>({search:r.value,ordering:N.value?.attribute,seed:Se.value,filters:st(Object.values(C.value)),availability:D.value&&d.value?!0:void 0,page_size:se.value?c.value-1:c.value,page:m.value}))},{clientCache:!0}),_e=()=>{r.value="",C.value={}},Ee=n(()=>oe.value==="error"||x.value==="error");A(Ee,o=>{if(o)throw pe({statusCode:500,statusMessage:"Internal server error",fatal:!0})},{immediate:!0});const ke=ot(),De=n(()=>ke.value||0),ie=n(()=>s.value?.directory?.showLabelInside),Ce=n(()=>t.value.settings.calloutsEnabled),we=n(()=>t.value.settings.reviewsEnabled),Te=n(()=>t.value.settings.tiersEnabled),xe=(o,i)=>{$("entry-card-click",{entryId:o.id,entryName:o.title,entryType:o.entryType,position:i,page:m.value,pageSize:c.value})},ze=o=>{$("pagination-click",{page:o})},Ae=o=>{$("page-size-click",{pageSize:o})},Oe=o=>{typeof o=="string"&&$("sort-changed",{value:o})},Ie=o=>{$("search-applied",{query:o})},Fe=(o,i)=>{$("search-suggestion-selected",{id:o,query:i})},$e=(o,i)=>{$("filter-selected",{slug:o,filterSlug:i})},Z=n(()=>!t.value.settings.i18nDynamicContentTranslationEnabled),Pe=n(()=>l.value?.hideDirectoryMainSectionTitle||!1),Re=n(()=>l.value?.hideSearchField||!1),Le=n(()=>l.value?.hideSortField||!1),Me=n(()=>l.value?.hideFilters||!1);return(o,i)=>{const K=xt,Ve=Ft,Ne=be;return _(),k(e(dt),{page:e(m),"onUpdate:page":i[4]||(i[4]=f=>I(m)?m.value=f:null),"page-size":e(c),"onUpdate:pageSize":i[5]||(i[5]=f=>I(c)?c.value=f:null),sort:e(S),"onUpdate:sort":i[6]||(i[6]=f=>I(S)?S.value=f:null),search:e(r),"onUpdate:search":i[7]||(i[7]=f=>I(r)?r.value=f:null),title:e(t).customizations.directoryMainSection.title||void 0,"scroll-offset":e(De),"filters-hide-label":e(G),"page-query-param-key":e(w).PAGE,"hide-main-section-title":e(Pe),"hide-sorting":e(Le),"sorting-options":e(b),"entries-loading":e(oe)==="pending",entries:e(Q)?e(Q).results:null,"entries-count":e(Q)?e(Q).count:null,"pagination-type":e(h),"page-size-options":y,"page-size-selection-enabled":e(E),filters:e(Me)?null:e(j)||null,"filters-loading":e(x)==="pending","selected-filter-options-loading":e(J)>0&&!e(j),"selected-filter-options":e(U),"selected-filter-options-count":e(J),"no-translate-dynamic-content":e(Z),onSortChange:Oe,onClearAll:_e,onPageChange:ze,onPageSizeChange:Ae},it({filterTag:g(({filterSelected:f})=>[v(e(ct),{modelValue:e(C),"onUpdate:modelValue":i[0]||(i[0]=H=>I(C)?C.value=H:null),filter:f.filter,"filter-option":f.filterOption,"no-translate-dynamic-content":e(Z)},null,8,["modelValue","filter","filter-option","no-translate-dynamic-content"])]),filterFieldSkeleton:g(()=>[v(e(ut),{"show-label-inside":e(ie)},null,8,["show-label-inside"])]),filterField:g(({filter:f})=>[v(e(rt),{modelValue:e(C),"onUpdate:modelValue":i[1]||(i[1]=H=>I(C)?C.value=H:null),filter:f,loading:e(x)==="pending","show-label-inside":e(ie),"no-translate-dynamic-content":e(Z),onSelected:$e},null,8,["modelValue","filter","loading","show-label-inside","no-translate-dynamic-content"])]),entrySkeleton:g(()=>[v(e(X),{"callouts-enabled":e(Ce),"reviews-enabled":e(we),"tiers-enabled":e(Te)},null,8,["callouts-enabled","reviews-enabled","tiers-enabled"])]),entry:g(({entry:f,index:H})=>[v(Ne,{entry:f,onClick:Jt=>xe(f,H+1)},null,8,["entry","onClick"])]),_:2},[e(Re)?void 0:{name:"entriesSearch",fn:g(()=>[v(K,{modelValue:e(r),"onUpdate:modelValue":i[2]||(i[2]=f=>I(r)?r.value=f:null),"no-translate-dynamic-content":e(Z),availability:e(D)&&e(d),onChange:Ie,onSuggestionSelected:Fe},null,8,["modelValue","no-translate-dynamic-content","availability"])]),key:"0"},e(D)?{name:"availabilityToggle",fn:g(()=>[R("div",O(o.$qa("availability"),{class:"flex justify-end gap-x-2"}),[i[8]||(i[8]=fe(" Available experts only ",-1)),v(e(lt),{modelValue:e(d),"onUpdate:modelValue":i[3]||(i[3]=f=>I(d)?d.value=f:null),"show-value-label":""},null,8,["modelValue"])],16)]),key:"1"}:void 0,e(se)?{name:"matchmakingCard",fn:g(()=>[v(Ve)]),key:"2"}:void 0]),1032,["page","page-size","sort","search","title","scroll-offset","filters-hide-label","page-query-param-key","hide-main-section-title","hide-sorting","sorting-options","entries-loading","entries","entries-count","pagination-type","page-size-selection-enabled","filters","filters-loading","selected-filter-options-loading","selected-filter-options","selected-filter-options-count","no-translate-dynamic-content"])}}}),Lt=Object.assign(Rt,{__name:"DirectoryMainSection"});var Mt;function Vt(){return Mt}function Nt(a){return typeof a=="function"?a():e(a)}function te(a){if(a instanceof Promise||a instanceof Date||a instanceof RegExp)return a;const t=Nt(a);if(!a||!t)return t;if(Array.isArray(t))return t.map(s=>te(s));if(typeof t=="object"){const s={};for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){if(l==="titleTemplate"||l[0]==="o"&&l[1]==="n"){s[l]=e(t[l]);continue}s[l]=te(t[l])}return s}return t}var qt="usehead",ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de="__unhead_injection_handler__";function jt(){return de in ce?ce[de]():gt(qt)||Vt()}function Ut(a,t={}){const s=t.head||jt();if(s)return s.ssr?s.push(a,t):Ht(s,a,t)}function Ht(a,t,s={}){const l=Y(!1),h=Y({});vt(()=>{h.value=l.value?{}:te(t)});const u=a.push(h.value,s);return A(h,m=>{u.patch(m)}),yt()&&(mt(()=>{u.dispose()}),pt(()=>{l.value=!0}),ft(()=>{l.value=!1})),u}var Bt=a=>typeof a=="function",Gt=(a,t)=>{if(!a)return;const s=n(()=>Bt(a)?a():a);Ut(()=>s.value?{script:[{type:"application/ld+json",innerHTML:JSON.stringify(s.value,null,"")}]}:{},t)};const Yt=M({__name:"index",setup(a){const t=V(),s=ye(),l=bt();ht((E,m,y)=>{l.value=m.query,y()});const h=n(()=>t.value.settings.featuredEntriesEnabled&&!s.value?.hideFeaturedEntries);Et({title:null,description:n(()=>t.value.seo.metaDescription||`Discover ${t.value.organization.name} partners and apps.`),image:n(()=>t.value.seo.metaImage||t.value.customizations.logo),index:!0,canonicalQueryParams:[w.PAGE],queryParamsIndexBlacklist:[w.PAGE_SIZE,w.SORT,w.SEARCH,he]});const u=St();return Gt(()=>(u.value.pathname||"/")!=="/"?null:{"@context":"https://schema.org","@type":"WebSite",...t.value.seo.siteName?{name:t.value.seo.siteName}:{},url:u.value,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${u.value}?${w.SEARCH}={search_term_string}`},"query-input":"required name=search_term_string"}}),(E,m)=>{const y=je,c=qe,r=wt,D=Lt;return _(),_t("div",null,[e(s)?.hideDirectoryFirstSection?z("",!0):(_(),k(c,{key:0,"target-slot":e(P).DirectoryFirst},{default:g(()=>[e(t).customizations.customFirstSection?(_(),k(y,{key:0,section:e(t).customizations.customFirstSection,"target-slot":e(P).DirectoryFirst},null,8,["section","target-slot"])):z("",!0)]),_:1},8,["target-slot"])),e(s)?.hideDirectorySecondSection?z("",!0):(_(),k(c,{key:1,"target-slot":e(P).DirectorySecond},{default:g(()=>[e(t).customizations.customSecondSection?(_(),k(y,{key:0,section:e(t).customizations.customSecondSection,"target-slot":e(P).DirectorySecond},null,8,["section","target-slot"])):z("",!0)]),_:1},8,["target-slot"])),e(h)?(_(),k(c,{key:2,"target-slot":e(ue).DirectoryFeatured},{default:g(()=>[v(r)]),_:1},8,["target-slot"])):z("",!0),e(s)?.hideDirectoryMainSection?z("",!0):(_(),k(c,{key:3,"target-slot":e(ue).DirectoryMain},{default:g(()=>[v(D)]),_:1},8,["target-slot"])),e(s)?.hideDirectoryLastSection?z("",!0):(_(),k(c,{key:4,"target-slot":e(P).DirectoryLast},{default:g(()=>[e(t).customizations.customLastSection?(_(),k(y,{key:0,section:e(t).customizations.customLastSection,"target-slot":e(P).DirectoryLast},null,8,["section","target-slot"])):z("",!0)]),_:1},8,["target-slot"]))])}}});export{Yt as default};
