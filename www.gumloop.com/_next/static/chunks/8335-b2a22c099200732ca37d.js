"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8335],{15620:function(e,t,r){r.d(t,{Z:function(){return H}});var l=r(85893),o=r(5969),n=r(48184),s=r(77322),a=r(37513),i=r(33243),c=r(49777),d=r(1257),u=r(7710),h=r(11454),m=r(97818),p=r(29876),x=r(66525),f=r(97387),b=r(42414),g=r(67294),_=function(){let{editor:e,activeFormats:t=["bold"],selectedHeader:r="P",onFormatToggle:l,onHeaderChange:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,s]=(0,g.useState)(r),[,a]=(0,g.useState)({});(0,g.useEffect)(()=>{if(!e)return;let t=()=>{a({})};return e.on("selectionUpdate",t),e.on("transaction",t),()=>{e.off("selectionUpdate",t),e.off("transaction",t)}},[e]);let i=(0,g.useCallback)(t=>{if(e)switch(t){case"bold":e.chain().focus().toggleBold().run();break;case"italic":e.chain().focus().toggleItalic().run();break;case"strikethrough":e.chain().focus().toggleStrike().run();break;case"underline":e.chain().focus().toggleUnderline().run();break;default:null==l||l(t)}},[e,l]),c=(0,g.useCallback)(t=>{if(e){switch(t){case"P":e.chain().focus().setParagraph().run();break;case"H1":e.chain().focus().toggleHeading({level:1}).run();break;case"H2":e.chain().focus().toggleHeading({level:2}).run();break;case"H3":e.chain().focus().toggleHeading({level:3}).run();break;default:return}s(t),null==o||o(t),requestAnimationFrame(()=>{requestAnimationFrame(()=>{null==e||e.chain().focus().run()})})}},[e,o]),d=(0,g.useCallback)(t=>{if(e)switch(t){case"bulletList":e.chain().focus().toggleBulletList().run();break;case"orderedList":e.chain().focus().toggleOrderedList().run()}},[e]),u=(0,g.useCallback)(t=>{if(e)switch(t){case"undo":e.chain().focus().undo().run();break;case"redo":e.chain().focus().redo().run()}},[e]),h=(0,g.useCallback)(t=>{if(e)switch(t){case"codeBlock":e.chain().focus().toggleCodeBlock().run();break;case"horizontalRule":e.chain().focus().setHorizontalRule().run()}},[e]);return{internalSelectedHeader:n,handleFormatToggle:i,handleHeaderChange:c,handleListToggle:d,handleUndoRedo:u,handleElementToggle:h,isActive:(0,g.useCallback)(t=>{if(!e)return!1;switch(t){case"bold":return e.isActive("bold");case"italic":return e.isActive("italic");case"strikethrough":return e.isActive("strike");case"underline":return e.isActive("underline");case"bulletList":return e.isActive("bulletList");case"orderedList":return e.isActive("orderedList");case"codeBlock":return e.isActive("codeBlock");default:return!1}},[e]),getCurrentHeader:(0,g.useCallback)(()=>e?e.isActive("heading",{level:1})?"H1":e.isActive("heading",{level:2})?"H2":e.isActive("heading",{level:3})?"H3":"P":"P",[e]),canUndoRedo:(0,g.useCallback)(t=>!!e&&("undo"===t?e.can().undo():e.can().redo()),[e])}},k=r(18998);let v=()=>/Mac|iPod|iPhone|iPad/.test(navigator.platform)||/Mac/.test(navigator.userAgent),j=()=>v()?"⌘":"Ctrl",w=()=>v()?"⌘+Shift":"Ctrl+Shift",y=()=>{let e=j(),t=w();return{bold:"".concat(e,"+B"),italic:"".concat(e,"+I"),underline:"".concat(e,"+U"),strikethrough:"".concat(t,"+X"),bulletList:"".concat(t,"+8"),orderedList:"".concat(t,"+7"),undo:"".concat(e,"+Z"),redo:v()?"".concat(t,"+Z"):"".concat(e,"+Y"),codeBlock:"",horizontalRule:""}},N=[{name:"Gray",hex:"var(--muted)"},{name:"Pink",hex:"var(--pink-100)"},{name:"Blue",hex:"var(--blue-100)"},{name:"Purple",hex:"var(--purple-100)"},{name:"Orange",hex:"var(--orange-100)"},{name:"Green",hex:"var(--green-100)"},{name:"Background",hex:"var(--background)"}],P=[{value:"P",label:"Normal text"},{value:"H1",label:"Heading 1"},{value:"H2",label:"Heading 2"},{value:"H3",label:"Heading 3"}],C=e=>{let{editor:t,activeFormats:r=["bold"],selectedHeader:g="P",onFormatToggle:v,onHeaderChange:j,color:w,onColorChange:C,portalDialogs:H=!0,headerOptions:M=P}=e,{handleFormatToggle:Z,handleHeaderChange:L,handleListToggle:A,handleUndoRedo:B,isActive:z,getCurrentHeader:D,canUndoRedo:R,handleElementToggle:T}=_({editor:t,activeFormats:r,selectedHeader:g,onFormatToggle:v,onHeaderChange:j}),U=y(),O=[{key:"bold",icon:o.Z,label:"Bold",shortcut:U.bold},{key:"italic",icon:n.Z,label:"Italic",shortcut:U.italic},{key:"strikethrough",icon:s.Z,label:"Strikethrough",shortcut:U.strikethrough},{key:"underline",icon:a.Z,label:"Underline",shortcut:U.underline}],S=[{key:"bulletList",icon:i.Z,label:"Bullet List",shortcut:U.bulletList},{key:"orderedList",icon:c.Z,label:"Numbered List",shortcut:U.orderedList}],q=[{key:"undo",icon:d.Z,label:"Undo",shortcut:U.undo},{key:"redo",icon:u.Z,label:"Redo",shortcut:U.redo}],E=[{key:"codeBlock",icon:h.Z,label:"Code Block",shortcut:U.codeBlock},{key:"horizontalRule",icon:m.Z,label:"Horizontal Rule",shortcut:U.horizontalRule}];return(0,l.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-1",children:[q.map(e=>{let{key:t,icon:r,label:o,shortcut:n}=e;return(0,l.jsxs)(b.u,{children:[(0,l.jsx)(b.aJ,{asChild:!0,children:(0,l.jsx)(p.zx,{variant:"ghost",size:"sm",className:(0,k.cn)("h-7 w-7 rounded-md p-0",R(t)?"hover:bg-muted":"text-muted-foreground cursor-not-allowed"),disabled:!R(t),onMouseDown:e=>e.preventDefault(),onClick:()=>B(t),children:(0,l.jsx)(r,{className:"h-4 w-4"})})}),(0,l.jsx)(b._v,{side:"top",sideOffset:10,className:"rounded-md border-0 bg-black px-2 py-1 text-xs text-white",children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[o," ",n]})})]},t)}),(0,l.jsx)(f.Z,{orientation:"vertical",className:"mx-1 h-5"}),(0,l.jsxs)(x.Ph,{value:D(),onValueChange:L,children:[(0,l.jsx)(x.i4,{className:"hover:bg-muted h-7 w-auto gap-1 border-0 bg-transparent px-1.5 text-xs font-normal focus:ring-0",onMouseDown:e=>e.preventDefault(),children:(0,l.jsx)(x.ki,{className:"text-xs font-normal"})}),(0,l.jsx)(x.Bw,{className:"p-1",portal:H,children:M.map(e=>(0,l.jsx)(x.Ql,{value:e.value,className:(0,k.cn)("text-xs font-normal"),children:e.label},e.value))})]}),(0,l.jsx)(f.Z,{orientation:"vertical",className:"mx-1 h-5"}),O.map(e=>{let{key:t,icon:r,label:o,shortcut:n}=e;return(0,l.jsxs)(b.u,{children:[(0,l.jsx)(b.aJ,{asChild:!0,children:(0,l.jsx)(p.zx,{variant:"ghost",size:"sm",className:(0,k.cn)("h-7 w-7 rounded-md p-0",z(t)?"bg-pink-50 text-pink-600 hover:bg-pink-100":"hover:bg-muted"),onClick:()=>Z(t),onMouseDown:e=>e.preventDefault(),children:(0,l.jsx)(r,{className:"h-4 w-4"})})}),(0,l.jsx)(b._v,{side:"top",sideOffset:10,className:"rounded-md border-0 bg-black px-2 py-1 text-xs text-white",children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[o," ",n]})})]},t)}),(0,l.jsx)(f.Z,{orientation:"vertical",className:"mx-1 h-5"}),S.map(e=>{let{key:t,icon:r,label:o,shortcut:n}=e;return(0,l.jsxs)(b.u,{children:[(0,l.jsx)(b.aJ,{asChild:!0,children:(0,l.jsx)(p.zx,{variant:"ghost",size:"sm",className:(0,k.cn)("h-7 w-7 rounded-md p-0",z(t)?"bg-pink-50 text-pink-600 hover:bg-pink-100":"hover:bg-muted"),onMouseDown:e=>e.preventDefault(),onClick:()=>A(t),children:(0,l.jsx)(r,{className:"h-4 w-4"})})}),(0,l.jsx)(b._v,{side:"top",sideOffset:10,className:"rounded-md border-0 bg-black px-2 py-1 text-xs text-white",children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[o," ",n]})})]},t)}),(0,l.jsx)(f.Z,{orientation:"vertical",className:"mx-1 h-5"}),E.map(e=>{let{key:t,icon:r,label:o,shortcut:n}=e;return(0,l.jsxs)(b.u,{children:[(0,l.jsx)(b.aJ,{asChild:!0,children:(0,l.jsx)(p.zx,{variant:"ghost",size:"sm",className:(0,k.cn)("h-7 w-7 rounded-md p-0",z(t)?"bg-pink-50 text-pink-600 hover:bg-pink-100":"hover:bg-muted"),onMouseDown:e=>e.preventDefault(),onClick:()=>T(t),children:(0,l.jsx)(r,{className:"h-4 w-4"})})}),(0,l.jsx)(b._v,{side:"top",sideOffset:10,className:"rounded-md border-0 bg-black px-2 py-1 text-xs text-white",children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[o," ",n]})})]},t)}),w&&C&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{orientation:"vertical",className:"mx-1 h-5"}),(0,l.jsxs)(x.Ph,{value:w,onValueChange:C,children:[(0,l.jsx)(x.i4,{className:"hover:bg-muted h-7 w-auto gap-1 border-0 bg-transparent px-1.5 text-xs font-normal focus:ring-0",children:(0,l.jsx)(x.ki,{placeholder:"Select color",className:"text-xs font-normal"})}),(0,l.jsx)(x.Bw,{className:"p-1",portal:H,children:N.map(e=>(0,l.jsx)(x.Ql,{value:e.hex,className:"text-xs font-normal",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-4 w-4 rounded-full border border-gray-300",style:{backgroundColor:e.hex}}),e.name]})},e.hex))})]})]})]})};C.displayName="RichTextToolbarContent";var H=C},56674:function(e,t,r){r.d(t,{U:function(){return l}});let l=[{value:"P",label:"Normal text"},{value:"H2",label:"Heading 1"},{value:"H3",label:"Heading 2"},{value:"H4",label:"Heading 3"}]},25218:function(e,t,r){var l=r(85893),o=r(67294),n=r(95582),s=r(49924),a=r(93237),i=r(48510),c=r(71284),d=r(6901),u=r(87441),h=r(50036),m=r(15620),p=r(18998);let x=/https?:\/\/[^\s]+?(?=\s|$)/g,f=s.ZP.extend({addPasteRules(){return[(0,n.K9)({find:x,type:this.type,getAttributes:e=>({href:e[0],target:"_blank",rel:"noopener noreferrer"})})]}}),b=e=>{let{initialContent:t,format:r="html",onUpdate:n,maxCharacters:x,placeholder:b,onEditorReady:g,onOverLimitChange:_,inputClassName:k,containerClassName:v,showToolbar:j=!1,portalDialogs:w=!0,toolbarHeaderOptions:y,...N}=e,[P,C]=(0,o.useState)(!1),H=(0,c.jE)({extensions:[d.Z.configure({bulletList:{HTMLAttributes:{class:"bullet-list"},keepMarks:!1,keepAttributes:!1},orderedList:{HTMLAttributes:{class:"ordered-list"},keepMarks:!1,keepAttributes:!1},listItem:{HTMLAttributes:{class:"list-item"}}}),s.ZP.configure({openOnClick:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer"}}),i.Z,f,a.Z.configure({placeholder:b})],content:"html"===r?t||"":(0,u.TU)(t||"")||"",onUpdate:e=>{let{editor:t}=e,l=t.getHTML(),o=l.length,s=!!x&&o>x;if(C(s),null==_||_(s),"html"===r)n(l);else{let e=new h.Z;e.addRule("strikethrough",{filter:["s"],replacement:function(e){return"~"+e+"~"}}),n(e.turndown(l))}}});return((0,o.useEffect)(()=>{if(!H)return;let e=H.getHTML();t!==e&&"html"===r&&H.commands.setContent(t||"");let l=e.length,o=!!x&&l>x;C(o),null==_||_(o);let n=null==g?void 0:g(H);return()=>{null==n||n()}},[t,H,x,g,r,_]),H)?(0,l.jsx)("div",{className:"group pointer-events-auto flex h-full w-full flex-col",children:(0,l.jsxs)("label",{htmlFor:"tiptap-rich-text-input",className:(0,p.cn)("relative h-full w-full flex-1 rounded-md px-4 py-2 text-lg","border-0 !ring-0",P?"bg-red-50/50":"",v),onClick:()=>{H&&!H.isFocused&&H.commands.focus()},children:[j&&(0,l.jsx)("div",{className:"flex w-full justify-start p-1",children:(0,l.jsx)(m.Z,{editor:H,portalDialogs:w,headerOptions:y})}),(0,l.jsx)(c.kg,{editor:H,id:"tiptap-rich-text-input",onKeyDown:e=>{e.stopPropagation()},height:"100%",className:(0,p.cn)("w-full","text-foreground overflow-wrap text-sm wrap-break-word","*:tabular-nums","[&_h1]:text-xl [&_h2]:text-lg [&_h3]:text-base [&_li]:text-sm [&_ol]:text-sm [&_p]:text-sm [&_ul]:text-sm","[&_h1]:font-semibold [&_h2]:font-semibold [&_h3]:font-medium [&_li]:font-normal [&_ol]:font-normal [&_p]:font-normal [&_strong]:font-semibold [&_ul]:font-normal","[&_h1]:my-2 [&_h2]:my-2 [&_h3]:my-2 [&_p]:my-0 [&_strong]:my-0","[&_li]:ml-6 [&_ol]:my-0 [&_ol>li]:my-0 [&_ol>li]:list-decimal [&_ul]:mb-2 [&_ul]:list-disc [&_ul>li]:my-0 [&_ul>li]:list-disc","[&_code]:bg-muted-foreground/10 [&_code]:text-muted-foreground [&_code]:rounded-sm [&_code]:px-1 [&_code]:py-0.5 [&_code]:font-mono [&_code]:text-sm [&_code]:whitespace-pre-wrap","[&_pre]:bg-muted-foreground/7.5 [&_pre]:text-muted-foreground [&_pre>code]:text-muted-foreground [&_pre]:my-2 [&_pre]:rounded-sm [&_pre]:px-3 [&_pre]:py-2 [&_pre]:font-mono [&_pre]:text-sm [&_pre>code]:rounded-none [&_pre>code]:bg-transparent [&_pre>code]:px-0 [&_pre>code]:py-0 [&_pre>code]:font-mono [&_pre>code]:text-sm","[&_a]:text-accent-foreground [&_a]:hover:text-accent-foreground/80 [&_a]:underline [&_a]:hover:no-underline","[&_blockquote]:border-l-muted-foreground/20 [&_blockquote]:text-muted-foreground/80 [&_blockquote]:border-l-3 [&_blockquote]:pl-3 [&_blockquote>p]:text-sm","[&_.ProseMirror]:ring-0 [&_.ProseMirror]:outline-none [&_.ProseMirror:focus]:ring-0 [&_.ProseMirror:focus]:outline-none","[&_.ProseMirror_p.is-editor-empty:first-child::before]:pointer-events-none [&_.ProseMirror_p.is-editor-empty:first-child::before]:float-left [&_.ProseMirror_p.is-editor-empty:first-child::before]:h-0 [&_.ProseMirror_p.is-editor-empty:first-child::before]:text-gray-400 [&_.ProseMirror_p.is-editor-empty:first-child::before]:content-[attr(data-placeholder)]","[&_.ProseMirror_li]:my-1 [&_.ProseMirror_ol]:list-decimal [&_.ProseMirror_ol]:pl-6 [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-6","[&_.ProseMirror>*:first-child]:!mt-0",k),style:{outline:"none"},...N})]})}):null};b.displayName="TiptapRichTextInput",t.Z=b}}]);