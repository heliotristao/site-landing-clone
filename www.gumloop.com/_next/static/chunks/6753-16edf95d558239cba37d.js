"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6753],{98532:function(e,l,r){r.d(l,{x:function(){return c}});var n=r(85893),t=r(67294),a=r(18178),s=r(33243),o=r(20132),i=r(42414);let c=e=>{let{viewMode:l,onViewModeChange:r}=e,c=(0,t.useCallback)(e=>{("card"==e||"table"==e)&&r(e)},[r]);return(0,n.jsxs)(o.t,{type:"single",value:l,onValueChange:c,className:"hidden md:flex",children:[(0,n.jsxs)(i.u,{children:[(0,n.jsx)(i.aJ,{asChild:!0,children:(0,n.jsx)("span",{children:(0,n.jsx)(o.G,{value:"card","aria-label":"Card view",children:(0,n.jsx)(a.Z,{className:"size-4"})})})}),(0,n.jsx)(i._v,{children:"Card View"})]}),(0,n.jsxs)(i.u,{children:[(0,n.jsx)(i.aJ,{asChild:!0,children:(0,n.jsx)("span",{children:(0,n.jsx)(o.G,{value:"table","aria-label":"Table view",children:(0,n.jsx)(s.Z,{className:"size-4"})})})}),(0,n.jsx)(i._v,{children:"List View"})]})]})}},61298:function(e,l,r){r.d(l,{X:function(){return U}});var n=r(85893),t=r(86425),a=r(67294),s=r(48578),o=r(60887),i=r(50016),c=r(61857),d=r(18998);let u=e=>{let{id:l,data:r,children:t,disabled:a=!1}=e,{attributes:s,listeners:i,setNodeRef:c,isDragging:u}=(0,o.O1)({id:l,data:{entity:r},disabled:a});return(0,n.jsx)("div",{ref:c,...i,...s,className:(0,d.cn)("relative cursor-grab touch-none",u&&"opacity-40",a&&"cursor-default"),children:t})};var m=r(30740),f=r(76345),x=r(12852),h=r(86762),g=r(29876),p=r(30010);let j=e=>{let{canMoveToParent:l=!1,isOutline:r=!0,onRename:t,onDelete:s,onMoveToParent:o}=e,[i,c]=(0,a.useState)(!1);return(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsxs)(p.h_,{open:i,onOpenChange:c,children:[(0,n.jsx)(p.$F,{asChild:!0,children:(0,n.jsx)(g.zx,{variant:r?"outline":"ghost",size:"icon-sm",className:"data-[state=open]:bg-muted",children:(0,n.jsx)(m.Z,{})})}),(0,n.jsxs)(p.AW,{className:"p-1",align:"end",children:[(0,n.jsxs)(p.Xi,{onClick:e=>{e.stopPropagation(),c(!1),t()},children:[(0,n.jsx)("span",{className:"flex flex-grow text-left",children:"Rename"}),(0,n.jsx)(f.Z,{size:20})]}),l&&o&&(0,n.jsxs)(p.Xi,{onClick:e=>{e.stopPropagation(),c(!1),null==o||o()},children:[(0,n.jsx)("span",{className:"flex flex-grow text-left",children:"Move To Parent Folder"}),(0,n.jsx)(x.Z,{size:20})]}),(0,n.jsxs)(p.Xi,{onClick:e=>{e.stopPropagation(),c(!1),s()},destructive:!0,children:[(0,n.jsx)("span",{className:"flex flex-grow text-left",children:"Delete"}),(0,n.jsx)(h.Z,{size:20})]})]})]})})},v=e=>{let{folder:l,onClick:r,onRename:t,onDelete:i,onMoveToParent:c,droppable:u=!1}=e,{isOver:m,setNodeRef:f}=(0,o.Zj)({id:"folder-".concat(l.folder_id),data:{folder:l},disabled:!u}),x=(0,a.useCallback)(()=>{r(l)},[l,r]),h=(0,a.useCallback)(()=>{t(l)},[l,t]),g=(0,a.useCallback)(()=>{i(l)},[l,i]),p=(0,a.useCallback)(()=>{c(l)},[l,c]);return(0,n.jsxs)("button",{ref:f,onClick:x,className:(0,d.cn)("bg-background group/folder-item relative flex h-full w-full items-center gap-4 rounded-md border p-4 text-left transition-all duration-200",m&&"bg-muted"),children:[(0,n.jsx)("div",{className:"group-hover/table-row:bg-background flex size-10 shrink-0 items-center justify-center rounded-md border",children:(0,n.jsx)(s.Z,{className:"text-muted-foreground size-4",fill:"var(--muted-foreground)"})}),(0,n.jsx)("div",{className:"flex min-w-0 flex-grow flex-col",children:(0,n.jsx)("span",{className:"line-clamp-2 pr-6 leading-tight font-medium",children:l.name})}),(0,n.jsx)(j,{canMoveToParent:null!==l.parent_folder_id,onRename:h,onDelete:g,onMoveToParent:p,isOutline:!1})]})},b=()=>(0,n.jsxs)("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[(0,n.jsx)(c.O,{className:"size-10 shrink-0 rounded-md"}),(0,n.jsx)("div",{className:"flex flex-col gap-1",children:(0,n.jsx)(c.O,{className:"h-5 w-32"})})]}),N=e=>{let{id:l,folder:r,children:t,disabled:a=!1}=e,{attributes:s,listeners:i,setNodeRef:c,isDragging:u}=(0,o.O1)({id:l,data:{folder:r,type:"folder"},disabled:a});return(0,n.jsx)("div",{ref:c,...i,...s,className:(0,d.cn)("relative h-full cursor-grab touch-none",u&&"opacity-40",a&&"cursor-default"),children:t})};var C=function(e){let{folders:l,onFolderClick:r,onFolderRename:t,onFolderDelete:a,onFolderMoveToParent:s,isLoading:o,skeletonCount:i,droppable:c=!1,draggable:d=!1}=e;return o?(0,n.jsx)("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:i}).map((e,l)=>(0,n.jsx)(b,{},l))}):0===l.length?null:(0,n.jsx)("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:l.map(e=>{let l=(0,n.jsx)(v,{folder:e,onClick:r,onRename:t,onDelete:a,onMoveToParent:s,droppable:c},e.folder_id);return d?(0,n.jsx)(N,{id:"draggable-folder-".concat(e.folder_id),folder:e,children:l},e.folder_id):l})})};let w=e=>{let{folders:l,entities:r,adapter:t,onFolderClick:m,isLoading:f=!1,renderEntityCard:x,emptyState:h,folderSkeletonCount:g=3,entitySkeletonCount:p=6,renderEntitySkeleton:j,onFolderRename:v,onFolderDelete:N,onFolderMoveToParent:w,onMoveToFolder:k,onFolderMoveToSibling:y}=e,S=l.length>0,T=r.length>0,D=!S&&!T,_=(!!k||!!y)&&S,F=!!y&&l.length>=2,[M,E]=(0,a.useState)(null),[I,P]=(0,a.useState)(null),[O,R]=(0,a.useState)(!1),z=(0,o.Dy)((0,o.VT)(o.we,{activationConstraint:{distance:8}})),Z=(0,a.useCallback)(e=>{let l=e.active.data.current;if((null==l?void 0:l.type)==="folder")P(l.folder),E(null);else{var r;E(null!==(r=null==l?void 0:l.entity)&&void 0!==r?r:null),P(null)}R(!1),document.body.style.cursor="grabbing"},[]),A=(0,a.useCallback)(e=>{let{over:l}=e,r=null==l?void 0:l.id;R(!!r&&r.startsWith("folder-"))},[]),L=(0,a.useCallback)(()=>{E(null),P(null),R(!1),document.body.style.cursor=""},[]),W=(0,a.useCallback)(e=>{let{active:l,over:r}=e;if(E(null),P(null),R(!1),document.body.style.cursor="",!r)return;let n=r.id;if(!n.startsWith("folder-"))return;let a=n.replace("folder-","");if(!a)return;let s=l.data.current;if((null==s?void 0:s.type)==="folder"&&y){let e=s.folder;if(!e||e.folder_id===a)return;y(e,a);return}if(!k)return;let o=null==s?void 0:s.entity;o&&t.getEntityFolderId(o)!==a&&k(o,a)},[k,y,t]),B=null!=j?j:()=>(0,n.jsxs)("div",{className:"flex h-full flex-col gap-4 rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"flex h-full flex-col gap-2",children:[(0,n.jsx)(c.O,{className:"h-5 w-3/4"}),(0,n.jsx)(c.O,{className:"h-4 w-full"}),(0,n.jsx)(c.O,{className:"h-4 w-5/6"})]}),(0,n.jsxs)("div",{className:"flex flex-row items-end gap-2",children:[(0,n.jsx)("div",{className:"flex flex-row items-center gap-2",children:Array.from({length:3}).map((e,l)=>(0,n.jsx)(c.O,{className:"size-10 rounded-md border"},l))}),(0,n.jsx)(c.O,{className:"ml-auto h-3 w-32"})]})]});if(f)return(0,n.jsxs)("div",{className:"flex w-full flex-col gap-8",children:[(0,n.jsxs)("section",{className:"flex flex-col gap-4",children:[(0,n.jsx)(c.O,{className:"h-4 w-16"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:g}).map((e,l)=>(0,n.jsx)(b,{},l))})]}),(0,n.jsxs)("section",{className:"flex flex-col gap-4",children:[(0,n.jsx)(c.O,{className:"h-4 w-16"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:p}).map((e,l)=>(0,n.jsx)(a.Fragment,{children:B()},l))})]})]});if(D&&h)return(0,n.jsx)("div",{className:"flex w-full flex-col gap-8",children:(0,n.jsx)("div",{className:"py-16",children:(0,n.jsx)(i.Z,{title:h.title,description:h.description,Icon:h.Icon,children:h.action})})});let V=(0,n.jsxs)("div",{className:"flex w-full flex-col gap-8",children:[S&&(0,n.jsx)(C,{folders:l,onFolderClick:m,onFolderRename:v,onFolderDelete:N,onFolderMoveToParent:w,isLoading:f,skeletonCount:g,droppable:_,draggable:F}),T&&(0,n.jsx)("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(e=>{let l=t.getEntityId(e);return _?(0,n.jsx)(u,{id:l,data:e,children:x(e)},l):(0,n.jsx)(a.Fragment,{children:x(e)},l)})})]});return _?(0,n.jsxs)(o.LB,{sensors:z,onDragStart:Z,onDragOver:A,onDragEnd:W,onDragCancel:L,children:[V,(0,n.jsxs)(o.y9,{dropAnimation:null,children:[M&&(0,n.jsx)("div",{className:(0,d.cn)("bg-background pointer-events-none origin-center rounded-md shadow-lg transition-transform duration-200 ease-out [&>*>*:first-child]:hidden",O&&"scale-50"),children:x(M)}),I&&(0,n.jsxs)("div",{className:(0,d.cn)("bg-background pointer-events-none flex items-center gap-4 rounded-md border p-4 shadow-lg transition-transform duration-200 ease-out",O&&"scale-50"),children:[(0,n.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-md border",children:(0,n.jsx)(s.Z,{className:"text-muted-foreground size-4",fill:"var(--muted-foreground)"})}),(0,n.jsx)("span",{className:"line-clamp-2 pr-6 leading-tight font-medium",children:I.name})]})]})]}):V};var k=r(36127),y=r(74094),S=r(27060),T=r(27379),D=r(24285),_=r(77311),F=r(87590),M=r(42414),E=r(12950);let I=e=>{let{children:l,isSelected:r,onSelectionChange:t,className:a,showCheckboxOnHover:s=!0}=e;return(0,n.jsxs)("div",{className:(0,d.cn)("relative flex size-10 shrink-0 cursor-pointer items-center justify-center rounded-md transition-all",!r&&"border group-hover/table-row:bg-transparent",!r&&"group-hover/multiselect-row:border-transparent group-hover/multiselect-row:bg-transparent",a),onClick:e=>{e.shiftKey||e.target!==e.currentTarget||(e.stopPropagation(),t(!r))},children:[(0,n.jsx)("div",{className:(0,d.cn)("absolute inset-0 z-10 flex items-center justify-center transition-opacity",r?"opacity-100":s?"opacity-0 group-hover/multiselect-row:opacity-100":"opacity-0"),onClick:e=>{e.shiftKey||e.stopPropagation()},children:(0,n.jsx)(M.pn,{skipDelayDuration:0,children:(0,n.jsxs)(M.u,{delayDuration:1e3,children:[(0,n.jsx)(M.aJ,{asChild:!0,children:(0,n.jsx)("div",{children:(0,n.jsx)(_.X,{checked:r,onCheckedChange:t,className:"border-muted-foreground/50 h-4 w-4",variant:"accent-strong"})})}),(0,n.jsxs)(M._v,{children:[(0,n.jsx)("span",{children:"Select flow"}),(0,n.jsx)(E.Z,{className:"text-muted/75 border-muted/30 bg-transparent text-xs font-normal",children:"X"})]})]})})}),(0,n.jsx)("div",{className:(0,d.cn)("transition-opacity",r?"opacity-0":s?"opacity-100 group-hover/multiselect-row:opacity-0":"opacity-100"),children:l})]})},P=a.forwardRef((e,l)=>{let{children:r,rowId:t,isSelected:s,onSelectionChange:o,onShiftClick:i,className:c,icon:u,disableSelection:m=!1,onClick:f,...x}=e,[h,g]=(0,a.useState)(!1),p=(0,a.useCallback)(e=>{if(!m&&e.shiftKey&&i){if(e.preventDefault(),e.stopPropagation(),window.getSelection){var l;null===(l=window.getSelection())||void 0===l||l.removeAllRanges()}i(t);return}f&&f(e)},[f,i,t,m]),j=(0,a.useCallback)(e=>{m||o(t,e)},[o,t,m]);return(0,a.useEffect)(()=>{if(m)return;let e=e=>{if(h&&("x"===e.key||"X"===e.key)){let l=document.activeElement;l&&("INPUT"===l.tagName||"TEXTAREA"===l.tagName||"true"===l.contentEditable)||(e.preventDefault(),o(t,!s))}};if(h)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[h,s,o,t,m]),(0,n.jsx)(F.SC,{ref:l,className:(0,d.cn)("group/multiselect-row",s&&"bg-accent-foreground/10",s&&"hover:bg-accent-foreground/10",c),"data-row-id":t,"data-selected":s,onClick:p,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),...x,children:(e=>{let l=a.Children.toArray(e),r=l[0];return a.isValidElement(r)&&r.type===F.pj?[a.cloneElement(r,{...r.props,children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[m?(0,n.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-md border",children:u}):(0,n.jsx)(I,{isSelected:s,onSelectionChange:j,children:u}),r.props.children]})}),...l.slice(1)]:e})(r)})});P.displayName="AppMultiSelectTableRow";let O=e=>{let{id:l,data:r,disabled:t=!1,rowId:a,isSelected:s,onSelectionChange:i,onShiftClick:c,icon:u,className:m,onClick:f,disableSelection:x,children:h}=e,{attributes:g,listeners:p,setNodeRef:j,transform:v,isDragging:b}=(0,o.O1)({id:l,data:{entity:r},disabled:t}),{isOverFolder:N}=G(),C=D.ux.Translate.toString(v)||"translate3d(0, 0, 0)",w={transform:"".concat(C," scale(").concat(b&&N?.75:1,")"),transformOrigin:"center",transition:"transform 150ms ease"};return(0,n.jsx)(P,{ref:j,style:w,rowId:a,isSelected:s,onSelectionChange:i,onShiftClick:c,icon:u,className:(0,d.cn)(m,"touch-none select-none",!t&&(b?"cursor-grabbing":"cursor-pointer"),t&&"cursor-default"),onClick:f,disableSelection:x,...p,...g,children:h})};var R=r(98641),z=r(37864),Z=r(44663);let A=e=>{let{selectedItems:l,totalItems:r,onClearSelection:t,onMoveToWorkspace:o,onMoveToFolder:i,onDelete:c,additionalActions:d=[],features:u={}}=e,{canMoveToWorkspace:m=!0,canMoveToFolder:f=!0,canDelete:x=!0}=u,h=(0,a.useMemo)(()=>[...m&&o?[{label:"Move to Workspace",icon:(0,n.jsx)(R.Z,{className:"h-4 w-4"}),onClick:()=>o(),disabled:e=>0===e.length}]:[],...f&&i?[{label:"Move to Folder",icon:(0,n.jsx)(s.Z,{className:"h-4 w-4"}),onClick:()=>i(),disabled:e=>0===e.length}]:[],...d,...x&&c?[{label:"Delete",icon:(0,n.jsx)(z.Z,{className:"h-4 w-4"}),onClick:()=>c(),disabled:e=>0===e.length,variant:"destructive"}]:[]],[m,f,x,o,i,c,d]);return 0===l.length?null:(0,n.jsx)(Z.m,{selectedItems:l,totalItems:r,selectionActions:h,onClearSelection:t})};var L=r(42435);let W=e=>{let{folder:l,onClick:r,children:t,droppable:s,draggable:i}=e,{isOver:c,setNodeRef:u}=(0,o.Zj)({id:"folder-".concat(l.folder_id),data:{folder:l},disabled:!s}),{attributes:m,listeners:f,setNodeRef:x,transform:h,isDragging:g}=(0,o.O1)({id:"draggable-folder-".concat(l.folder_id),data:{folder:l,type:"folder"},disabled:!i}),{isOverFolder:p}=G(),j=(0,a.useCallback)(e=>{u(e),x(e)},[u,x]),v=D.ux.Translate.toString(h)||"translate3d(0, 0, 0)",b={transform:"".concat(v," scale(").concat(g&&p?.75:1,")"),transformOrigin:"center",transition:"transform 150ms ease"};return(0,n.jsx)(F.SC,{ref:j,style:b,className:(0,d.cn)("cursor-pointer",i&&"touch-none select-none",i&&g&&"cursor-grabbing",c&&"bg-primary/5"),onClick:r,...i?f:{},...i?m:{},children:t})};function B(e){let{folders:l,onFolderClick:r,onFolderRename:t,onFolderDelete:o,onFolderMoveToParent:i,columns:c,pageSize:u=3,showPagination:m=!0,droppable:f=!1,draggable:x=!1}=e,h=(0,a.useCallback)(e=>{t(e)},[t]),g=(0,a.useCallback)(e=>{o(e)},[o]),p=(0,a.useCallback)(e=>{i(e)},[i]),v=(0,a.useMemo)(()=>[{id:"name",header:"Folder",cell:e=>{let{row:l}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,n.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-md border",children:(0,n.jsx)(s.Z,{className:"text-muted-foreground size-4",fill:"var(--muted-foreground)"})}),(0,n.jsx)("span",{className:"font-medium",children:l.original.name})]})}},{id:"actions",header:"",cell:e=>{let{row:l}=e;return(0,n.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,n.jsx)(j,{canMoveToParent:null!==l.original.parent_folder_id,onRename:()=>h(l.original),onDelete:()=>g(l.original),onMoveToParent:()=>p(l.original)})})},meta:{columnClasses:"w-12"}}],[h,g,p]),b=(0,y.b7)({data:l,columns:c||v,getCoreRowModel:(0,S.sC)(),getPaginationRowModel:(0,S.G_)(),initialState:{pagination:{pageSize:u}}});return 0===l.length?null:(0,n.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"relative w-full overflow-visible",children:(0,n.jsxs)("table",{className:(0,d.cn)("w-full caption-bottom text-sm"),children:[(0,n.jsx)(F.xD,{children:b.getHeaderGroups().map(e=>(0,n.jsx)(F.SC,{className:"hover:bg-transparent",children:e.headers.map(e=>{var l,r;return(0,n.jsx)(F.ss,{className:null===(r=e.column.columnDef)||void 0===r?void 0:null===(l=r.meta)||void 0===l?void 0:l.columnClasses,children:e.isPlaceholder?null:(0,y.ie)(e.column.columnDef.header,e.getContext())},e.id)})},e.id))}),(0,n.jsx)(F.RM,{children:b.getRowModel().rows.map(e=>{let l=e.original,t=e.getVisibleCells().map(e=>{var l,r;return(0,n.jsx)(F.pj,{className:null===(r=e.column.columnDef)||void 0===r?void 0:null===(l=r.meta)||void 0===l?void 0:l.columnClasses,children:(0,y.ie)(e.column.columnDef.cell,e.getContext())},e.id)});return f||x?(0,n.jsx)(W,{folder:l,onClick:()=>r(l),droppable:f,draggable:x,children:t},e.id):(0,n.jsx)(F.SC,{className:"cursor-pointer",onClick:()=>r(l),children:t},e.id)})})]})}),m&&l.length>u&&(0,n.jsx)(L.k,{table:b,selectable:!1,hasTotalCount:!0})]})}let V=(0,a.createContext)({isOverFolder:!1}),G=()=>(0,a.useContext)(V),X=e=>{let{rows:l=3}=e;return(0,n.jsx)("section",{className:"flex flex-col gap-2",children:(0,n.jsx)("div",{className:"relative w-full overflow-visible",children:(0,n.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,n.jsx)(F.xD,{children:(0,n.jsxs)(F.SC,{className:"hover:bg-transparent",children:[(0,n.jsx)(F.ss,{children:"Folder"}),(0,n.jsx)(F.ss,{className:"w-12"})]})}),(0,n.jsx)(F.RM,{children:Array.from({length:l}).map((e,l)=>(0,n.jsxs)(F.SC,{children:[(0,n.jsx)(F.pj,{className:"pl-0",children:(0,n.jsx)(c.O,{className:"h-4 w-32"})}),(0,n.jsx)(F.pj,{className:"w-12",children:(0,n.jsx)(c.O,{className:"size-8 rounded-md"})})]},l))})]})})})},K=e=>{let{rows:l=10}=e;return(0,n.jsx)("section",{className:"flex flex-col gap-2",children:(0,n.jsx)("div",{className:"relative w-full overflow-visible",children:(0,n.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,n.jsx)(F.xD,{children:(0,n.jsxs)(F.SC,{className:"hover:bg-transparent",children:[(0,n.jsx)(F.ss,{className:"w-12"}),(0,n.jsx)(F.ss,{children:(0,n.jsx)(c.O,{className:"h-4 w-16"})}),(0,n.jsx)(F.ss,{children:(0,n.jsx)(c.O,{className:"h-4 w-24"})}),(0,n.jsx)(F.ss,{children:(0,n.jsx)(c.O,{className:"h-4 w-20"})}),(0,n.jsx)(F.ss,{className:"w-12"})]})}),(0,n.jsx)(F.RM,{children:Array.from({length:l}).map((e,l)=>(0,n.jsxs)(F.SC,{children:[(0,n.jsx)(F.pj,{children:(0,n.jsx)(c.O,{className:"h-4 w-48"})}),(0,n.jsx)(F.pj,{children:(0,n.jsx)(c.O,{className:"h-4 w-32"})}),(0,n.jsx)(F.pj,{children:(0,n.jsx)(c.O,{className:"h-4 w-24"})}),(0,n.jsx)(F.pj,{className:"w-12",children:(0,n.jsx)(c.O,{className:"size-8 rounded-md"})})]},l))})]})})})},J=e=>{let{folders:l,entities:r,adapter:t,onFolderClick:s,onFolderRename:c,onFolderDelete:u,onFolderMoveToParent:m,isLoading:f=!1,entityColumns:x,folderColumns:h,currentFolderId:g,searchTerm:p="",onEntityClick:j,renderBulkMoveToFolderDialog:v,renderBulkMoveToWorkspaceDialog:b,renderBulkDeleteDialog:N,emptyState:C,entityPageSize:w=10,folderPageSize:D=3,onMoveToFolder:_,onFolderMoveToSibling:M}=e,[E,I]=(0,a.useState)({moveToWorkspace:!1,moveToFolder:!1,delete:!1}),[R,z]=(0,a.useState)(!1),Z=(0,o.Dy)((0,o.VT)(o.we,{activationConstraint:{distance:8}})),W=l.length>0,G=(!!_||!!M)&&W,J=!!M&&l.length>=2,H=(0,a.useCallback)(()=>{z(!1),document.body.style.cursor="grabbing"},[]),U=(0,a.useCallback)(e=>{let{over:l}=e,r=null==l?void 0:l.id;z(!!r&&r.startsWith("folder-"))},[]),Y=(0,a.useCallback)(()=>{z(!1),document.body.style.cursor=""},[]),$=(0,a.useCallback)(e=>{let{active:l,over:r}=e;if(z(!1),document.body.style.cursor="",!r)return;let n=r.id;if(!n.startsWith("folder-"))return;let a=n.replace("folder-","");if(!a)return;let s=l.data.current;if((null==s?void 0:s.type)==="folder"&&M){let e=s.folder;if(!e||e.folder_id===a)return;M(e,a);return}if(!_)return;let o=null==s?void 0:s.entity;o&&t.getEntityFolderId(o)!==a&&_(o,a)},[_,M,t]),q=(0,a.useMemo)(()=>t.canSelect?r.filter(e=>t.canSelect(e)):r,[r,t.canSelect]),{selectedItems:Q,isSelected:ee,handleSelectionChange:el,handleShiftClick:er,clearSelection:en}=function(e){let{getId:l,allItems:r=[]}=e,[n,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(null),[i,c]=(0,a.useState)(r);(0,a.useEffect)(()=>{c(r)},[r]);let d=(0,a.useCallback)(e=>n.some(r=>l(r)===e),[n,l]),u=(0,a.useCallback)((e,r)=>{let n=i.find(r=>l(r)===e);n&&(r?(t(e=>[...e,n]),o(e)):t(r=>r.filter(r=>l(r)!==e)))},[i,l]),m=(0,a.useCallback)(e=>{if(!s){u(e,!0);return}let r=i.findIndex(e=>l(e)===s),a=i.findIndex(r=>l(r)===e);if(-1===r||-1===a)return;let o=i.slice(Math.min(r,a),Math.max(r,a)+1),c=new Set(n.map(l));o.forEach(e=>c.add(l(e))),t(i.filter(e=>c.has(l(e))))},[s,i,l,n,u]),f=(0,a.useCallback)(()=>{t([...i]),i.length>0&&o(l(i[i.length-1]))},[i,l]),x=(0,a.useCallback)(()=>{t([]),o(null)},[]);return(0,a.useEffect)(()=>{let e=e=>{if((e.metaKey||e.ctrlKey)&&"a"===e.key){let l=document.activeElement;if(l&&("INPUT"===l.tagName||"TEXTAREA"===l.tagName||"true"===l.contentEditable))return;e.preventDefault(),f()}"Escape"===e.key&&x()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[f,x]),{selectedItems:n,lastSelectedId:s,isSelected:d,handleSelectionChange:u,handleShiftClick:m,selectAll:f,clearSelection:x,setAllItems:c}}({getId:t.getEntityId,allItems:q}),et=(0,T.useRouter)(),ea=(0,a.useCallback)((e,l)=>{if(j){j(e,l);return}let r=t.getEntityHref(e);l.metaKey||l.ctrlKey?window.open(r,"_blank"):et.push(r)},[j,t,et]),es=(0,y.b7)({data:r,columns:x,getCoreRowModel:(0,S.sC)(),getPaginationRowModel:(0,S.G_)(),initialState:{pagination:{pageSize:w}}});if(f)return(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,n.jsx)(X,{rows:3}),(0,n.jsx)(K,{rows:10})]});let eo=r.length>0;if(!W&&!eo){if(p)return(0,n.jsx)("div",{className:"flex flex-col gap-8",children:(0,n.jsx)("div",{className:"flex justify-center py-12",children:(0,n.jsx)(i.Z,{Icon:k.Z,title:'No results found for "'.concat(p,'"'),description:"Try a different search term or clear the search"})})});if(C)return(0,n.jsx)("div",{className:"py-16",children:(0,n.jsx)(i.Z,{title:C.title,description:C.description,Icon:C.Icon,children:C.action})})}let ei=(0,n.jsxs)(a.Fragment,{children:[W&&(0,n.jsx)(B,{folders:l,onFolderClick:s,onFolderRename:c,onFolderDelete:u,onFolderMoveToParent:m,columns:h,pageSize:D,droppable:G,draggable:J}),eo&&(0,n.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("table",{className:(0,d.cn)("w-full table-fixed caption-bottom text-sm"),children:[(0,n.jsx)(F.xD,{children:es.getHeaderGroups().map(e=>(0,n.jsx)(F.SC,{className:"hover:bg-transparent",children:e.headers.map(e=>{var l,r;return(0,n.jsx)(F.ss,{className:null===(r=e.column.columnDef)||void 0===r?void 0:null===(l=r.meta)||void 0===l?void 0:l.columnClasses,children:e.isPlaceholder?null:(0,y.ie)(e.column.columnDef.header,e.getContext())},e.id)})},e.id))}),(0,n.jsx)(F.RM,{children:es.getPaginationRowModel().rows.map(e=>{let l=t.getEntityId(e.original),r=ee(l),a=!t.canSelect||t.canSelect(e.original),s=e.getVisibleCells().map(e=>{var l,r;return(0,n.jsx)(F.pj,{className:(0,d.cn)("truncate",null===(r=e.column.columnDef)||void 0===r?void 0:null===(l=r.meta)||void 0===l?void 0:l.columnClasses),children:(0,y.ie)(e.column.columnDef.cell,e.getContext())},e.id)});return G?(0,n.jsx)(O,{id:l,data:e.original,rowId:l,isSelected:r,onSelectionChange:el,onShiftClick:er,icon:t.getEntityIcon(e.original),className:"cursor-pointer",onClick:l=>ea(e.original,l),disableSelection:!a,children:s},e.id):(0,n.jsx)(P,{rowId:l,isSelected:r,onSelectionChange:el,onShiftClick:er,icon:t.getEntityIcon(e.original),className:"cursor-pointer",onClick:l=>ea(e.original,l),disableSelection:!a,children:s},e.id)})})]}),Q.length>0&&(0,n.jsx)(A,{selectedItems:Q,totalItems:q.length,onClearSelection:en,onMoveToWorkspace:t.features.canMoveToWorkspace?()=>I(e=>({...e,moveToWorkspace:!0})):void 0,onMoveToFolder:t.features.canMoveToFolder?()=>I(e=>({...e,moveToFolder:!0})):void 0,onDelete:()=>I(e=>({...e,delete:!0})),features:t.features}),(0,n.jsx)(L.k,{table:es,selectable:!1,hasTotalCount:!0})]}),null==v?void 0:v({open:E.moveToFolder,onOpenChange:e=>I(l=>({...l,moveToFolder:e})),entities:Q,onSuccess:en,currentFolderId:g}),null==b?void 0:b({open:E.moveToWorkspace,onOpenChange:e=>I(l=>({...l,moveToWorkspace:e})),entities:Q,onSuccess:en}),null==N?void 0:N({open:E.delete,onOpenChange:e=>I(l=>({...l,delete:e})),entities:Q,onSuccess:en})]});return G?(0,n.jsx)(o.LB,{sensors:Z,onDragStart:H,onDragOver:U,onDragEnd:$,onDragCancel:Y,children:(0,n.jsx)(V.Provider,{value:{isOverFolder:R},children:ei})}):ei},H=e=>{let{folderPath:l,onNavigate:r}=e;return 0===l.length?null:(0,n.jsx)(t.aG,{children:(0,n.jsxs)(t.Jb,{children:[(0,n.jsx)(t.gN,{children:(0,n.jsx)(t.At,{href:"#",onClick:e=>{e.preventDefault(),r(-1)},children:"Hub"})}),l.map((e,a)=>{let s=a===l.length-1;return(0,n.jsxs)(t.gN,{children:[(0,n.jsx)(t.bg,{}),s?(0,n.jsx)(t.AG,{children:e.name}):(0,n.jsx)(t.At,{href:"#",onClick:e=>{e.preventDefault(),r(a)},children:e.name})]},e.folder_id)})]})})},U=e=>{let{view:l,folders:r,entities:t,adapter:a,onFolderClick:s,onBreadcrumbNavigate:o,renderEntityCard:i,entityColumns:c,currentFolderId:d,currentFolderPath:u,isLoading:m,emptyState:f,onFolderRename:x,onFolderDelete:h,onFolderMoveToParent:g,searchTerm:p,onMoveToFolder:j,onFolderMoveToSibling:v,renderBulkMoveToFolderDialog:b,renderBulkMoveToWorkspaceDialog:N,renderBulkDeleteDialog:C}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[u.length>0&&(0,n.jsx)("div",{className:"flex w-full px-2",children:(0,n.jsx)(H,{folderPath:u,onNavigate:o})}),"card"===l?(0,n.jsx)("div",{className:"flex w-full px-2",children:(0,n.jsx)(w,{folders:r,entities:t,adapter:a,onFolderClick:s,onFolderRename:x,onFolderDelete:h,onFolderMoveToParent:g,renderEntityCard:i,isLoading:m,emptyState:f,onMoveToFolder:j,onFolderMoveToSibling:v})}):(0,n.jsx)(J,{folders:r,entities:t,adapter:a,onFolderClick:s,onFolderRename:x,onFolderDelete:h,onFolderMoveToParent:g,entityColumns:c,currentFolderId:d,isLoading:m,emptyState:f,entityPageSize:10,folderPageSize:3,searchTerm:p,renderBulkMoveToFolderDialog:b,renderBulkMoveToWorkspaceDialog:N,onMoveToFolder:j,onFolderMoveToSibling:v,renderBulkDeleteDialog:C})]})}},48819:function(e,l,r){var n=r(85893),t=r(67294),a=r(78865),s=r(18289),o=r(29876),i=r(42414),c=r(14142),d=r(18998),u=r(94356);let m=(0,t.memo)(e=>{let{name:l,src:r,email:t,isSelf:m,size:f="md",compact:x=!1,className:h,...g}=e,{isCopied:p,handleCopyText:j,text:v}=(0,c.Z)(null!=t?t:""),b=m?"You":null!=l?l:t;return b?(0,n.jsxs)(i.u,{delayDuration:x?300:800,children:[(0,n.jsx)(i.aJ,{asChild:!0,className:"relative after:absolute",children:(0,n.jsxs)("div",{className:(0,d.cn)('text-muted-foreground flex max-w-56 items-center gap-2 after:inset-0 after:h-10! after:w-full after:-translate-x-2 after:-translate-y-2 after:content-[""]',!x&&"lg:min-w-32",h),...g,children:[(0,n.jsx)(u.Z,{name:null!=l?l:t,src:r,className:(0,d.cn)("size-7 shrink-0 rounded-sm text-[10px]","sm"===f?"size-6":"size-7")}),!x&&(0,n.jsx)("div",{className:"hidden flex-col items-start gap-0.5 truncate lg:flex",children:(0,n.jsx)("p",{className:"text-sm text-nowrap text-inherit",children:b})})]})}),x?(0,n.jsxs)(i._v,{variant:"outline",className:"flex flex-col gap-0.5",children:[(0,n.jsx)("p",{className:"text-xs font-medium",children:b}),t&&l&&(0,n.jsx)("p",{className:"text-muted-foreground text-xs",children:t})]}):t&&(0,n.jsx)(i._v,{variant:"outline",className:"py-0 pr-0.75",children:(0,n.jsxs)("div",{className:"flex items-center gap-3.5",children:[(0,n.jsx)("p",{className:"text-xs font-normal",children:v}),(0,n.jsx)(o.zx,{variant:"ghost",size:"icon-xs",className:"hover:bg-background",onClick:e=>{e.stopPropagation(),j()},children:p?(0,n.jsx)(a.Z,{className:"text-muted-foreground"}):(0,n.jsx)(s.Z,{className:"text-muted-foreground"})})]})})]}):(0,n.jsx)("div",{className:"bg-muted h-px w-8"})});m.displayName="AppDataTableCreatorCell",l.Z=m},86425:function(e,l,r){r.d(l,{AG:function(){return x},At:function(){return f},Jb:function(){return u},aG:function(){return d},bg:function(){return h},gN:function(){return m}});var n=r(85893),t=r(67294),a=r(4307),s=(r(19069),r(88426)),o=r(41664),i=r.n(o),c=r(18998);let d=t.forwardRef((e,l)=>{let{...r}=e;return(0,n.jsx)("nav",{ref:l,"aria-label":"breadcrumb",...r})});d.displayName="Breadcrumb";let u=t.forwardRef((e,l)=>{let{className:r,...t}=e;return(0,n.jsx)("ol",{ref:l,className:(0,c.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words",r),...t})});u.displayName="BreadcrumbList";let m=t.forwardRef((e,l)=>{let{className:r,...t}=e;return(0,n.jsx)("li",{ref:l,className:(0,c.cn)("inline-flex items-center gap-1.5",r),...t})});m.displayName="BreadcrumbItem";let f=t.forwardRef((e,l)=>{let{asChild:r,className:t,...a}=e,o=r?s.g7:i();return(0,n.jsx)(o,{ref:l,href:a.href||"",className:(0,c.cn)("hover:text-foreground transition-colors",t),...a})});f.displayName="BreadcrumbLink";let x=t.forwardRef((e,l)=>{let{className:r,...t}=e;return(0,n.jsx)("span",{ref:l,role:"link","aria-disabled":"true","aria-current":"page",className:(0,c.cn)("text-foreground font-normal",r),...t})});x.displayName="BreadcrumbPage";let h=e=>{let{children:l,className:r,size:t=16,...s}=e;return(0,n.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,c.cn)(!t&&"[&>svg]:h-3.5 [&>svg]:w-3.5",r),...s,children:null!=l?l:(0,n.jsx)(a.Z,{size:t})})};h.displayName="BreadcrumbSeparator"},51893:function(e,l,r){r.d(l,{d:function(){return s}});var n=r(67294),t=r(15738),a=r(44194);function s(e){let{folderTreeData:l,isFolderTreeLoading:r,onInvalidateTags:s}=e,[o,i]=(0,t.v1)("folder_id",t.Oi),{currentFolderId:c,currentPath:d}=(0,n.useMemo)(()=>{if(!o||!(null==l?void 0:l.folderTree))return{currentFolderId:null,currentPath:[]};let e=function e(l,r){if(l.folder_id===o)return[...r,new a.g({folder_id:l.folder_id,name:l.name,parent_folder_id:l.parent_folder_id,author_id:l.author_id})];for(let n of l.children||[]){let t=null!==l.folder_id?new a.g({folder_id:l.folder_id,name:l.name,parent_folder_id:l.parent_folder_id,author_id:l.author_id}):null,s=e(n,t?[...r,t]:r);if(s)return s}return null}(l.folderTree,[])||[];return e.length>0?{currentFolderId:o,currentPath:e}:{currentFolderId:null,currentPath:[]}},[o,null==l?void 0:l.folderTree]),u=(0,n.useCallback)(e=>{i(e.folder_id)},[i]),m=(0,n.useCallback)(()=>{i(null)},[i]),f=(0,n.useCallback)(e=>{if(e<0)i(null);else{var l,r;i(null!==(r=null===(l=d[e])||void 0===l?void 0:l.folder_id)&&void 0!==r?r:null)}},[i,d]),x=(0,n.useCallback)(()=>{i(null)},[i]),h=(0,n.useCallback)(()=>{s(c)},[s,c]);return{currentFolderId:c,currentPath:d,storedFolderId:o,isAtRoot:null===c,isFolderTreeLoading:r,navigateToFolder:u,navigateToRoot:m,navigateToIndex:f,reset:x,refetch:h}}},26567:function(e,l,r){r.d(l,{I:function(){return i},j:function(){return o}});var n=r(67294);function t(e,l){let r=new Set;return{subscribe:e=>(r.add(e),()=>r.delete(e)),getSnapshot:()=>{let r=localStorage.getItem(e);return"card"===r||"table"===r?r:l},getServerSnapshot:()=>l,setValue:l=>{localStorage.setItem(e,l),r.forEach(e=>e())}}}let a=t("flows-view-mode","card"),s=t("agents-view-mode","card");function o(){return[(0,n.useSyncExternalStore)(a.subscribe,a.getSnapshot,a.getServerSnapshot),(0,n.useCallback)(e=>{a.setValue(e)},[])]}function i(){return[(0,n.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getServerSnapshot),(0,n.useCallback)(e=>{s.setValue(e)},[])]}}}]);