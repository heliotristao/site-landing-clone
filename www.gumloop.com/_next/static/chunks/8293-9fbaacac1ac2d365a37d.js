"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8293],{6335:function(e,t,a){a.d(t,{OL:function(){return h},_T:function(){return c},aR:function(){return s},f$:function(){return x},fY:function(){return _},iP:function(){return m},le:function(){return p},vW:function(){return i},xo:function(){return f},yT:function(){return g}});var n=a(85893);a(67294);var r=a(97571),l=a(29876),o=a(18998);function s(e){let{...t}=e;return(0,n.jsx)(r.fC,{"data-slot":"alert-dialog",...t})}function i(e){let{...t}=e;return(0,n.jsx)(r.xz,{"data-slot":"alert-dialog-trigger",...t})}function u(e){let{...t}=e;return(0,n.jsx)(r.h_,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,n.jsx)(r.aV,{"data-slot":"alert-dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/3 backdrop-blur-xs",t),...a})}function c(e){let{className:t,overlayClassName:a="",...l}=e;return(0,n.jsxs)(u,{children:[(0,n.jsx)(d,{className:a}),(0,n.jsx)(r.VY,{"data-slot":"alert-dialog-content",className:(0,o.cn)("bg-muted data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-bottom-1/4 data-[state=open]:slide-in-from-bottom-1/4 fixed top-[50%] left-[50%] z-50 flex max-h-[95vh] w-full max-w-[95vw] translate-x-[-50%] translate-y-[-50%] flex-col overflow-clip rounded-xl border shadow-lg duration-200 sm:max-w-lg",t),...l})]})}let m=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("bg-elevated text-foreground flex flex-grow flex-col gap-4 overflow-y-auto rounded-xl p-6 shadow-xs",t),...a})};function _(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})}function f(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,o.cn)("flex h-fit flex-col-reverse gap-2 px-6 py-3 sm:flex-row sm:justify-end",t),...a})}function x(e){let{className:t,...a}=e;return(0,n.jsx)(r.Dx,{"data-slot":"alert-dialog-title",className:(0,o.cn)("text-foreground text-xl leading-snug font-semibold tracking-tight",t),...a})}function g(e){let{className:t,...a}=e;return(0,n.jsx)(r.dk,{"data-slot":"alert-dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}function h(e){let{className:t,variant:a="default",...s}=e;return(0,n.jsx)(r.aU,{className:(0,o.cn)((0,l.dc)({variant:a}),t),...s})}function p(e){let{className:t,...a}=e;return(0,n.jsx)(r.$j,{className:(0,o.cn)((0,l.dc)({variant:"outline"}),t),...a})}m.displayName="AlertDialogBody"},78293:function(e,t,a){a.d(t,{b4:function(){return L},Tj:function(){return S}});var n=a(85893),r=a(67294),l=a(78551),o=a(27379),s=a(71613),i=a(14009),u=a(14212),d=a(45837),c=a(94750),m=a(90273),_=a(45788),f=a(15928),x=a(73416),g=a(28979),h=a(4307),p=a(78865),v=a(41664),N=a.n(v),j=a(6335),E=a(29876),y=a(67060),b=a(97387),C=a(23075),O=a(48762),k=a(95470);let I=[{title:"Observability",description:"See what MCP servers and tools are used, by whom, when and why",Icon:f.Z},{title:"Security",description:"Control who has access to Gumloop, or internal MCP servers and tools",Icon:x.Z},{title:"Centralized Control",description:"Create your own MCP servers and deploy them across your organization",Icon:g.Z}],w=e=>{var t;let{open:a,onOpenChange:r}=e,{userProfile:l,idTokenRef:s}=(0,d.H)(),c=(0,o.usePathname)(),m=(0,o.useRouter)();null==l||null===(t=l.organization)||void 0===t||t.organization_id;let{mutate:{mutate:f}}=(0,i.Z)(),{data:x}=(0,_.jL)({userProfile:l,idToken:s.current}),g=null==x?void 0:x.some(e=>"github_access_token"===e.secret_type);return(0,n.jsx)(j.aR,{open:a,onOpenChange:r,children:(0,n.jsxs)(j._T,{className:"max-w-2xl! overflow-visible! border-none bg-transparent shadow-none focus:outline-none",overlayClassName:"!bg-background",children:[(0,n.jsxs)(j.iP,{className:"shadow-floating! p-5 md:p-8",children:[(0,n.jsxs)(j.fY,{className:"pb-2 md:pb-0",children:[(0,n.jsx)(j.f$,{children:"Welcome to Gumstack"}),(0,n.jsx)(j.yT,{className:"text-pretty",children:"A platform for hosting, observing, and managing MCP server usage across your organization."})]}),I.map(e=>(0,n.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,n.jsx)("div",{className:"bg-background hidden size-10 items-center justify-center rounded-md border sm:flex",children:(0,n.jsx)(e.Icon,{className:"text-muted-foreground size-4"})}),(0,n.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)(e.Icon,{className:"text-muted-foreground size-4 sm:hidden"}),(0,n.jsx)("p",{className:"font-medium",children:e.title})]}),(0,n.jsx)("p",{className:"text-muted-foreground",children:e.description})]})]},e.title)),(0,n.jsx)(b.Z,{}),(0,n.jsxs)(y.zF,{defaultOpen:!0,children:[(0,n.jsxs)(y.wy,{className:"group flex w-full cursor-pointer items-center justify-between gap-2",children:[(0,n.jsx)("p",{className:"text-muted-foreground text-xs",children:"For Developers"}),(0,n.jsx)(h.Z,{className:"text-muted-foreground size-3.5 transition-transform duration-200 group-data-[state=open]:rotate-90"})]}),(0,n.jsxs)(y.Fw,{className:"pt-2",children:[(0,n.jsx)("p",{className:"text-muted-foreground pb-4 text-xs",children:"Creating custom MCP servers requires GitHub integration. Complete these steps to enable repository creation and automatic deployments."}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"bg-background hidden size-10 shrink-0 items-center justify-center rounded-md border sm:flex",children:(0,n.jsx)(C.E,{className:"fill-muted-foreground size-5"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)(C.E,{className:"fill-muted-foreground size-4 sm:hidden"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Connect GitHub"})]}),(0,n.jsx)("span",{className:"text-muted-foreground text-xs",children:"Allows Gumstack to create repositories on your behalf"})]})]}),g?(0,n.jsx)(p.Z,{className:"text-success-foreground size-4"}):(0,n.jsx)(k.Z,{provider:"GitHub",secretType:"github_access_token",credentialsToUse:{github_access_token:{is_personal_credential:!0,is_default:!0}},variant:"secondary",size:"sm",customLabel:"Connect",hideIcon:!0})]})]})]})]}),(0,n.jsxs)(j.xo,{className:"justify-between! px-2 pt-4 md:px-0",children:[(0,n.jsx)(E.zx,{asChild:!0,variant:"outline",className:"bg-elevated",children:(0,n.jsx)(N(),{href:"https://docs.gumloop.com/gumstack/getting-started/introduction",target:"_blank",children:"Learn more"})}),(0,n.jsx)(O.e,{height:32,width:128,className:"text-muted-foreground/50! mt-0.5 hidden md:block"}),(0,n.jsx)(j.OL,{asChild:!0,children:(0,n.jsx)(E.zx,{onClick:()=>{f(u.m.GUMSTACK_HAS_SEEN_WELCOME_DIALOG,"true"),r(!1),c.startsWith("/gumstack/chat")&&m.push("/gumstack/activity")},children:"Get Started"})})]})]})})},T=(0,r.createContext)(null);function S(){let e=(0,r.useContext)(T);if(!e)throw Error("useGumstackContext must be used within a GumstackContextProvider");return e}function L(e){var t;let{children:a}=e,_=(0,o.useRouter)(),{userProfile:f,idTokenRef:x}=(0,d.H)(),g=(0,s.y)("gumstack-v0"),{query:{get:h}}=(0,i.Z)(),p=null==f?void 0:f.isLoading(),v=null==f?void 0:f.organization,N=null==f?void 0:f.user_email,j=(0,r.useMemo)(()=>!!g&&!p&&null!=v&&!!v.is_gumstack_enabled&&(0,c.oS)(v,N),[g,p,v,N]),[E,y]=(0,r.useState)(!1),b=(0,r.useRef)(!1),C=(0,r.useCallback)(e=>{e||(b.current=!0),y(e)},[]),{data:O,isLoading:k}=(0,l.a)({queryKey:["gumstack-activity-count"],queryFn:async e=>{let{signal:t}=e;return await (0,m.n9)("activity/count",f,x.current,"GET",null,t)},enabled:j&&(null==f?void 0:f.isLoggedIn()),staleTime:9e5,refetchInterval:9e5}),I=(null!==(t=null==O?void 0:O.count)&&void 0!==t?t:0)>0;return((0,r.useEffect)(()=>{p||j||_.replace("/")},[p,j,_]),(0,r.useEffect)(()=>{j&&!b.current&&h(u.m.GUMSTACK_HAS_SEEN_WELCOME_DIALOG).then(e=>{b.current||y("true"!==e)})},[j,h]),j)?(0,n.jsxs)(T.Provider,{value:{setIsFirstVisit:y,activityCountData:O,isActivityCountLoading:k,hasActivity:I},children:[(0,n.jsx)(w,{open:E,onOpenChange:C}),a]}):null}},14212:function(e,t,a){a.d(t,{m:function(){return n}});let n={GUMSTACK_HAS_SEEN_WELCOME_DIALOG:"gumstack_has_seen_welcome_dialog",HIDE_GETTING_STARTED:"hide_getting_started",JOIN_GUMLOOP_UNIVERSITY:"join_gumloop_university",EXPLORE_OUR_TEMPLATES:"explore_our_templates",EARN_FREE_CREDITS:"earn_free_credits",BUILD_YOUR_FIRST_FLOW:"build_your_first_flow",BUILD_YOUR_FIRST_AGENT:"build_your_first_agent",SCHEDULE_A_FLOW_TO_RUN:"create_first_time_trigger",FOLLOW_US_ON_X:"follow_us_on_x",FOLLOW_US_ON_LINKEDIN:"follow_us_on_linkedin",CHECK_OUT_GUMLOOP_UNIVERSITY:"check_out_gumloop_university",JOIN_A_GUMLOOP_LEARNING_COHORT:"join_a_gumloop_learning_cohort",USES_AUTOFORMAT_ON_SAVE:"uses_autoformat_on_save",CUSTOM_NODES_MCP_GUIDE_SEEN:"custom-nodes-mcp-guide-seen",CHAT_CONNECT_APP_LIP_DISMISSED:"chat_connect_app_lip_dismissed",LINKEDIN_URL:"linkedin_url",ENRICHED_PROFILE:"enriched_profile",IS_LOW_CREDIT_WARNING_ENABLED:"is_low_credit_warning_enabled",IS_OUT_OF_CREDITS_NOTIFICATION_ENABLED:"is_out_of_credits_notification_enabled",LOW_CREDIT_WARNING_THRESHOLD_PERCENT:"low_credit_warning_threshold_percent"}},14009:function(e,t,a){var n=a(67294),r=a(45837),l=a(90273);t.Z=()=>{let{userProfile:e,idTokenRef:t}=(0,r.H)(),[a,o]=(0,n.useState)({loading:!1,error:null,data:null}),[s,i]=(0,n.useState)({loading:!1,error:null,data:null}),u=(0,n.useCallback)(async a=>{o(e=>({...e,loading:!0,error:null}));try{var n,r;let s=await (0,l.eN)("user_metadata?metadata_key=".concat(a,"&user_id=").concat(e.user_id),e,null!==(n=t.current)&&void 0!==n?n:void 0,"GET");return o({loading:!1,error:null,data:s}),null!==(r=null==s?void 0:s.metadata_value)&&void 0!==r?r:null}catch(e){return o(t=>({...t,loading:!1,error:e})),null}},[e,t]),d=(0,n.useCallback)(async a=>{if(!(null==a?void 0:a.length))return{};o(e=>({...e,loading:!0,error:null}));try{var n;let r=a.map(e=>"metadata_keys=".concat(encodeURIComponent(e))).join("&"),s=await (0,l.eN)("user_metadata/multiple?".concat(r),e,null!==(n=t.current)&&void 0!==n?n:void 0,"GET");return o({loading:!1,error:null,data:s}),null!=s?s:{}}catch(e){return o({loading:!1,error:e,data:null}),a.reduce((e,t)=>({...e,[t]:null}),{})}},[e,t]),c=(0,n.useCallback)(async function(a,n){let{onSuccess:r,onError:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(e=>({...e,loading:!0,error:null}));try{var s;let o=await (0,l.eN)("user_metadata?user_id=".concat(e.user_id,"&metadata_key=").concat(encodeURIComponent(a)),e,null!==(s=t.current)&&void 0!==s?s:void 0,"POST",{metadata_value:n});i({loading:!1,error:null,data:o}),null==r||r()}catch(e){i(t=>({...t,loading:!1,error:e})),null==o||o(e)}},[e,t]),m=(0,n.useCallback)(async function(a){let{stopOnError:n=!1,onSuccess:r,onError:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object.entries(a);if(!s.length){let e={ok:[],failed:[]};return i(t=>({...t,data:e})),e}i(e=>({...e,loading:!0,error:null}));let u={ok:[],failed:[]};try{if(n)for(let[a,n]of s)try{var d;await (0,l.eN)("user_metadata?user_id=".concat(e.user_id,"&metadata_key=").concat(encodeURIComponent(a)),e,null!==(d=t.current)&&void 0!==d?d:void 0,"POST",{metadata_value:n}),u.ok.push(a)}catch(e){u.failed.push({key:a,error:e});break}else(await Promise.allSettled(s.map(a=>{var n;let[r,o]=a;return(0,l.eN)("user_metadata?user_id=".concat(e.user_id,"&metadata_key=").concat(encodeURIComponent(r)),e,null!==(n=t.current)&&void 0!==n?n:void 0,"POST",{metadata_value:o}).then(()=>r)}))).forEach((e,t)=>{let a=s[t][0];"fulfilled"===e.status?u.ok.push(e.value):u.failed.push({key:a,error:e.reason})});return i({loading:!1,error:null,data:u}),0===u.failed.length?null==r||r(u):null==o||o(u),u}catch(t){let e={ok:[],failed:s.map(e=>{let[a]=e;return{key:a,error:t}})};return i({loading:!1,error:t,data:e}),null==o||o(e),e}},[e,t]);return(0,n.useMemo)(()=>({query:{...a,get:u,getMultiple:d},mutate:{...s,mutate:c,setMultiple:m}}),[a,s,u,d,c,m])}},23075:function(e,t,a){a.d(t,{E:function(){return n}});let n=(0,a(72710).Z)('<path d="M16,2a14,14,0,0,0-4.43,27.28c.7.13,1-.3,1-.67s0-1.21,0-2.38c-3.89.84-4.71-1.88-4.71-1.88A3.71,3.71,0,0,0,6.24,22.3c-1.27-.86.1-.85.1-.85A2.94,2.94,0,0,1,8.48,22.9a3,3,0,0,0,4.08,1.16,2.93,2.93,0,0,1,.88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4,5.4,0,0,1,1.44-3.76,5,5,0,0,1,.14-3.7s1.17-.38,3.85,1.43a13.3,13.3,0,0,1,7,0c2.67-1.81,3.84-1.43,3.84-1.43a5,5,0,0,1,.14,3.7,5.4,5.4,0,0,1,1.44,3.76c0,5.38-3.27,6.56-6.39,6.91a3.33,3.33,0,0,1,.95,2.59c0,1.87,0,3.38,0,3.84s.25.81,1,.67A14,14,0,0,0,16,2Z"/>',32)}}]);