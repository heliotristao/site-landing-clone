(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1299],{88513:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/templates/solutions/[solution_slug]",function(){return r(68591)}])},68591:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return _},default:function(){return N}});var a,n,s=r(85893),l=r(67294),o=r(11163),i=r(47079),u=r(3515),c=r(77607),d=r(20132),g=r(77130),h=r(37489),p=r(31804),f=r(17194);(a=n||(n={})).ALL="All",a.GUMMIES="Agents",a.FLOWS="Workflows";let m=e=>"All"===e||"Agents"===e||"Workflows"===e,v=e=>{var t;let{category:r,templates:a,searchQuery:n,isLoading:o,isSearching:i,heroRef:u,onSearch:c,loadMoreRef:v,isFetchingNextPage:y,hasNextPage:x}=e,[w,P]=(0,l.useState)("All"),_=(0,l.useRef)(null),N="All ".concat(r.name," Templates"),S=(0,l.useMemo)(()=>"All"===w?a:"Agents"===w?a.filter(e=>"GUMMIE"===e.type):"Workflows"===w?a.filter(e=>"FLOWBOOK"===e.type):void 0,[a,w]);return(0,s.jsxs)("main",{className:"dot-pattern dot-pattern-dark grid grid-cols-1 border-b px-4 md:px-0",children:[(0,s.jsx)(p.Z,{ref:u,totalTemplateCount:(null===(t=r.stats)||void 0===t?void 0:t.template_count)||0,categorySlug:r.slug,onSearch:c||(()=>{window.scrollTo({top:0,behavior:"smooth"})})}),(0,s.jsxs)(l.Fragment,{children:[i?(0,s.jsx)(g.s,{ref:_,searchQuery:n||"",templates:a,className:"dot-pattern dot-pattern-dark mt-8 mb-20",isLoading:o}):(0,s.jsxs)(l.Fragment,{children:[(0,s.jsxs)("div",{className:"mx-auto flex w-full max-w-[var(--landing-content-width)] flex-col justify-between gap-8 pt-20 md:flex-row",children:[(0,s.jsx)("h1",{children:N}),(0,s.jsxs)(d.t,{type:"single",value:w,size:"lg",defaultValue:w,onValueChange:e=>{m(e)&&P(e)},children:[(0,s.jsx)(d.G,{value:"All",className:"w-full text-nowrap md:w-fit",children:"All"}),(0,s.jsx)(d.G,{value:"Agents",className:"w-full text-nowrap md:w-fit",children:"Agents"}),(0,s.jsx)(d.G,{value:"Workflows",className:"w-full text-nowrap md:w-fit",children:"Workflows"})]})]}),S&&S.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.q,{templates:S,trailingSkeletonCount:y?3:0}),!i&&x&&(0,s.jsx)("div",{ref:v,className:"h-20 w-full","aria-hidden":"true"})]})]}),(0,s.jsx)(f.Z,{categorySlug:r.slug})]})]})};var y=r(821),x=r(10200),w=r(31719),P=r(68934),_=!0,N=e=>{var t,r,a;let{category:n,templates:d,solutionSlug:g}=e,h=(0,o.useRouter)(),[p,f]=(0,l.useState)(!0),m=(0,x.d)(),_=(null==h?void 0:null===(t=h.query)||void 0===t?void 0:t.query)&&"string"==typeof h.query.query?h.query.query:null,N=null==h?void 0:null===(r=h.query)||void 0===r?void 0:r.integration,S=Array.isArray(N)?N:N?[N]:[],b=_&&""!==_.trim()||S.length>0,{data:E,isLoading:j}=(0,y.iZ)({path:"template_pages/search?".concat((()=>{let e=new URLSearchParams;return _&&e.append("query",_),S.forEach(t=>e.append("integration",t)),e.toString()})()),queryKey:["marketplace-search",_||"",...S],options:{enabled:!!b}}),[A,k]=(0,l.useState)(!1),q=Array.isArray(d)&&d.length>=9,{data:G,fetchNextPage:T,hasNextPage:M,isFetchingNextPage:O,isLoading:R}=(0,w.N$)({path:"template_pages/category/".concat(g),queryKey:["category-templates",g],pageSize:9,options:{enabled:!b&&A}}),F=A?null!=M&&M:q,J=(0,l.useMemo)(()=>{let e=[...Array.isArray(d)?d:[]];return A&&(null==G?void 0:G.pages)&&G.pages.length>0&&G.pages.forEach((t,r)=>{0!==r&&t&&t.data&&Array.isArray(t.data)&&t.data.forEach(t=>{t&&t.slug&&!e.find(e=>e.slug===t.slug)&&e.push(t)})}),e},[G,d,A]),L=b?E||[]:J,C=(0,l.useRef)(null),z=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=C.current;if(!e)return;let t=new IntersectionObserver(e=>{let[t]=e;f(t.intersectionRatio>.2)},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});return t.observe(e),()=>{t.disconnect()}},[]),(0,l.useEffect)(()=>{if(b)return;let e=z.current;if(!e)return;let t=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&F&&(A?!O&&M&&T():k(!0))},{rootMargin:"200px"});return t.observe(e),()=>{t.disconnect()}},[b,F,O,T,A,M]);let K=()=>{window.scrollTo({top:0,behavior:"smooth"})},W=n.slug.replace(/ /g,"-").replace("_","-"),U=(0,P.pm)("/templates/solutions/".concat(g)),Z=(0,P.pm)("/images/templates/templates-".concat(W,"-hero.png"));return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(u.Z,{title:"".concat(n.name," | Gumloop Community Templates"),description:"Discover ".concat((null===(a=n.stats)||void 0===a?void 0:a.template_count)?"".concat(n.stats.template_count," ").concat(n.name):n.name," templates to automate your workflow"),url:U,linkPreviewPath:Z,linkPreviewAlt:"".concat(n.name," solution templates"),canonicalUrl:U}),!p&&!m&&(0,s.jsx)(c.m,{onSearch:K}),(0,s.jsx)(v,{category:n,templates:L,searchQuery:_,isLoading:j||R,isSearching:b,heroRef:C,onSearch:K,loadMoreRef:z,isFetchingNextPage:O,hasNextPage:F}),(0,s.jsx)(i.Z,{})]})}},31719:function(e,t,r){"use strict";r.d(t,{N$:function(){return h},PA:function(){return p},Q7:function(){return g},_Q:function(){return d},lK:function(){return f},xd:function(){return m}});var a=r(67294),n=r(29726),s=r(78551),l=r(45837),o=r(90273),i=r(821);let u=(e,t,r,a,n)=>{let s=e===i.J7.POST?{...n||{},page:r,page_size:a}:void 0,l=new URLSearchParams({page:String(r),page_size:String(a)});return e===i.J7.GET&&n&&Object.entries(n).forEach(e=>{let[t,r]=e;null!=r&&l.append(t,String(r))}),{finalBody:s,queryPath:e===i.J7.GET?"".concat(t).concat(t.includes("?")?"&":"?").concat(l):t}},c=(e,t,r,a,n)=>{let s=new URLSearchParams({page_size:String(r)});return a&&s.append("cursor",a),e===i.J7.GET&&n&&Object.entries(n).forEach(e=>{let[t,r]=e;null!=r&&s.append(t,String(r))}),{finalBody:e===i.J7.POST?{...n||{},page_size:r,cursor:a}:void 0,queryPath:e===i.J7.GET?"".concat(t).concat(t.includes("?")?"&":"?").concat(s):t}},d=e=>{let{path:t,queryKey:r,method:a=i.J7.GET,body:s,pageSize:c=20,options:d}=e,{userProfile:g,idTokenRef:h}=(0,l.H)();return(0,n.N)({queryKey:r,initialPageParam:1,queryFn:async e=>{let{pageParam:r=1,signal:n}=e,{finalBody:l,queryPath:i}=u(a,t,r,c,s);return(0,o.eN)(i,g,h.current,a,l,n)},getNextPageParam:e=>void 0!==e.has_more?e.has_more?e.page+1:void 0:e.total_pages&&e.page<e.total_pages?e.page+1:void 0,...d})},g=e=>{let{path:t,queryKey:r,method:a=i.J7.GET,body:n,pageSize:c=20,page:d,options:g}=e,{userProfile:h,idTokenRef:p}=(0,l.H)();return(0,s.a)({queryKey:[...r,String(d)],queryFn:async e=>{let{signal:r}=e,{finalBody:s,queryPath:l}=u(a,t,d,c,n);return(0,o.eN)(l,h,p.current,a,s,r)},...g})},h=e=>{let{path:t,queryKey:r,method:a=i.J7.GET,body:s,pageSize:c=20,options:d}=e,{userProfile:g}=(0,l.H)();return(0,n.N)({queryKey:r,initialPageParam:1,queryFn:async e=>{let{pageParam:r=1,signal:n}=e,{finalBody:l,queryPath:i}=u(a,t,r,c,s);return(0,o.Mu)(i,g,a,l)},getNextPageParam:e=>void 0!==e.has_more?e.has_more?e.page+1:void 0:e.total_pages&&e.page<e.total_pages?e.page+1:void 0,...d})},p=e=>{let{path:t,queryKey:r,method:a=i.J7.GET,body:n,pageSize:c=20,page:d,options:g}=e,{userProfile:h}=(0,l.H)();return(0,s.a)({queryKey:[...r,String(d)],queryFn:async e=>{let{signal:r}=e,{finalBody:s,queryPath:l}=u(a,t,d,c,n);return(0,o.Mu)(l,h,a,s)},...g})},f=e=>{let{data:t,currentCursor:r,setCurrentCursor:n}=e,[s,l]=(0,a.useState)([]),o=(0,a.useCallback)(()=>{(null==t?void 0:t.next_cursor)&&(l(e=>[...e,r]),n(t.next_cursor))},[null==t?void 0:t.next_cursor,n,r]),i=(0,a.useCallback)(()=>{if(s.length>0){var e;let t=[...s],r=null!==(e=t.pop())&&void 0!==e?e:null;l(t),n(r)}},[s,n]);return{cursorHistory:s,handleNextPage:o,handlePreviousPage:i,resetCursor:(0,a.useCallback)(()=>{l([]),n(null)},[n])}},m=e=>{let{path:t,queryKey:r,method:a=i.J7.GET,body:n,pageSize:u=20,cursor:d,options:g}=e,{userProfile:h,idTokenRef:p}=(0,l.H)(),f=null!=d?d:"initial";return(0,s.a)({queryKey:[...r,f,String(u)],queryFn:async e=>{let{signal:r}=e,{finalBody:s,queryPath:l}=c(a,t,u,d,n);return(0,o.eN)(l,h,p.current,a,s,r)},...g})}},29726:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var a=r(72536),n=r(54948),s=class extends a.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,n.Gm)()})}getOptimisticResult(e){return e.behavior=(0,n.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,a=super.createResult(e,t),{isFetching:s,isRefetching:l,isError:o,isRefetchError:i}=a,u=r.fetchMeta?.fetchMore?.direction,c=o&&"forward"===u,d=s&&"forward"===u,g=o&&"backward"===u,h=s&&"backward"===u;return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,n.Qy)(t,r.data),hasPreviousPage:(0,n.ZF)(t,r.data),isFetchNextPageError:c,isFetchingNextPage:d,isFetchPreviousPageError:g,isFetchingPreviousPage:h,isRefetchError:i&&!c&&!g,isRefetching:l&&!d&&!h}}},l=r(39161);function o(e,t){return(0,l.r)(e,s,t)}}},function(e){e.O(0,[3478,645,4861,2888,9774,179],function(){return e(e.s=88513)}),_N_E=e.O()}]);